(this["webpackJsonpmylinen-client"]=this["webpackJsonpmylinen-client"]||[]).push([[0],{64:function(e,t,a){e.exports=a(96)},69:function(e,t,a){},70:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},72:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(24),c=a.n(r),o=(a(69),a(3)),i=a(11),m=(a(70),a(71),a(72),a(6)),u=a.n(m),s=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL||"https://mylinen.herokuapp.com/api",d=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_PUBLIC_URL||"https://mylinen.herokuapp.com/",E=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_PUBLIC_URL,a(107)),p=a(104),g=a(98),f=a(105),b=a(8);function h(e){"url(".concat(d,"/water-background.jpg)");return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{sticky:"top",className:"general-nav",expand:"lg",style:{backgroundColor:"#04c3fe"}},l.a.createElement(b.b,{to:"/"},l.a.createElement("img",{src:"".concat(d,"/white-logo.png"),style:{width:"150px"},alt:"logo"})),l.a.createElement("div",{style:{justifySelf:"self-end"}})))}function v(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),r=a[0],c=a[1];if(Object(n.useEffect)((function(){u.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){c(e.data)}))}),[e.loggedInUser]),r){if("gobernanta"===r.userType||"direccion"===r.userType)return l.a.createElement(i.a,{to:"/hotel/home"});if("admin"===r.userType)return l.a.createElement(i.a,{to:"/laundry/home"})}return console.log(e.err),console.log(e.errorMessage),l.a.createElement(l.a.Fragment,null,l.a.createElement(h,null),l.a.createElement("div",{className:"signin"},l.a.createElement("p",{style:{textAlign:"center",padding:"30px",marginLeft:"5%",marginRight:"5%",color:"#036C9C",fontWeight:"600",fontSize:"25px"}},l.a.createElement("em",null,"Organiza tu lencer\xeda con SmartLinen")),l.a.createElement(E.a,{id:"siginCard",style:{backgroundColor:"#FEFEFE"}},l.a.createElement(p.a,{noValidate:!0,className:"admin-signinform",onSubmit:e.onSignIn,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"}},l.a.createElement(p.a.Group,{style:{width:"100%"},controlId:"formBasicEmail"},l.a.createElement(p.a.Label,{style:{color:"#036C9C",fontWeight:"600"}},"Direcci\xf3n de correo"),l.a.createElement(p.a.Control,{style:{textAlign:"center"},name:"email",type:"email",placeholder:"cliente@lavanderiamogan.com",required:!0,autocomplete:"email"}),l.a.createElement(p.a.Text,{className:"text-muted"},"Tu email")),l.a.createElement(p.a.Group,{style:{width:"80%"},controlId:"formBasicPassword"},l.a.createElement(p.a.Label,{style:{color:"#036C9C",fontWeight:"600"}},"Contrase\xf1a"),l.a.createElement(p.a.Control,{style:{textAlign:"center"},name:"password",type:"password",placeholder:"Contrase\xf1a"}),l.a.createElement(p.a.Text,{className:"text-muted"},"Si no recuerdas tu contrase\xf1a, llamanos")),e.err?l.a.createElement("p",{style:{color:"#ff2b2b"}},e.errorMessage):l.a.createElement(l.a.Fragment,null),l.a.createElement(g.a,{className:"general-btn",type:"submit"},"Acceder"))),l.a.createElement("p",{style:{textAlign:"center",padding:"30px",marginLeft:"5%",marginRight:"5%",color:"#036C9C",fontWeight:"600",fontSize:"16px"}},l.a.createElement("em",null,"Aplicaci\xf3n exclusiva para clientes de Lavander\xeda Mog\xe1n"))))}var y=a(106),C=a(99);function O(){return l.a.createElement("div",{style:{textAlign:"center",marginTop:"200px"}},l.a.createElement(C.a,{animation:"border",variant:"primary"}))}function x(e){return e.loggedInUser?l.a.createElement("div",{className:"sticky-top"},l.a.createElement(f.a,{collapseOnSelect:!0,expand:"lg",bg:"light",variant:"light",sticky:"top"},l.a.createElement(f.a.Brand,{href:""},"Envios"),l.a.createElement(f.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(f.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(y.a,{className:"mr-auto"},l.a.createElement(p.a,{onSubmit:e.onFilter},l.a.createElement(p.a.Row,{style:{alignItems:"center",justifyContent:"center"}},l.a.createElement(p.a.Control,{name:"month",as:"select",custom:!0,style:{width:"180px"}},l.a.createElement("option",{selected:!0},"Selecciona mes"),l.a.createElement("option",{value:"1"},"Enero"),l.a.createElement("option",{value:"2"},"Febrero"),l.a.createElement("option",{value:"3"},"Marzo"),l.a.createElement("option",{value:"4"},"Abril"),l.a.createElement("option",{value:"5"},"Mayo"),l.a.createElement("option",{value:"6"},"Junio"),l.a.createElement("option",{value:"7"},"Julio"),l.a.createElement("option",{value:"8"},"Agosto"),l.a.createElement("option",{value:"9"},"Septiembre"),l.a.createElement("option",{value:"10"},"Octubre"),l.a.createElement("option",{value:"11"},"Noviembre"),l.a.createElement("option",{value:"12"},"Diciembre")),l.a.createElement(p.a.Control,{name:"year",as:"select",custom:!0,style:{width:"90px"}},l.a.createElement("option",{value:"2021"},"2021"),l.a.createElement("option",{value:"2020"},"2020"),l.a.createElement("option",{value:"2019"},"2019"),l.a.createElement("option",{value:"2018"},"2018"),l.a.createElement("option",{value:"2017"},"2017"),l.a.createElement("option",{value:"2016"},"2016")),l.a.createElement(g.a,{type:"submit",style:{height:"fit-content",marginLeft:"10px"}},"Buscar")))),l.a.createElement(y.a,{style:{margin:"0px 20px 0px 0px",fontSize:"20px"}},l.a.createElement("p",{style:{margin:"0px"}},e.loggedInUser.userName))))):l.a.createElement(O,null)}function j(e){"url(".concat(d,"/water-background.jpg)");return l.a.createElement(f.a,{style:{backgroundColor:"#04c3fe"},collapseOnSelect:!0,expand:"lg",sticky:"top"},l.a.createElement(f.a.Brand,{href:"/"},l.a.createElement("img",{src:"".concat(d,"/white-logo.png"),alt:"logo",height:"50"})),l.a.createElement(f.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(f.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(y.a,{className:"mr-auto"},l.a.createElement(y.a.Link,{href:"/laundry/complexes"},"Complejos"),l.a.createElement(y.a.Link,{href:"/laundry/users"},"Usuarios"),l.a.createElement(y.a.Link,{href:"/laundry/laundries"},"Prendas")),e.loggedInUser?l.a.createElement(y.a,null,l.a.createElement(y.a,null,l.a.createElement(g.a,{onClick:e.logOut},"LogOut "))):l.a.createElement(y.a,null,l.a.createElement(y.a,null,l.a.createElement(b.b,{to:"/signin"}," ",l.a.createElement(g.a,null,"Registrarse"))))))}function S(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),r=a[0],c=a[1],m=Object(n.useState)(null),d=Object(o.a)(m,2),p=(d[0],d[1],Object(n.useState)(!1)),f=Object(o.a)(p,2),h=f[0],v=f[1],y=Object(n.useState)(null),C=Object(o.a)(y,2),S=C[0],N=C[1],I=Object(n.useState)(!1),k=Object(o.a)(I,2),w=k[0],L=(k[1],Object(n.useState)(null)),T=Object(o.a)(L,2),F=T[0],A=(T[1],Object(n.useState)(null)),_=Object(o.a)(A,2),U=_[0],D=_[1],P={display:"flex",flexDirecction:"row",justifyContent:"space-between"};Object(n.useEffect)((function(){u.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){c(e.data);var t=new Date;console.log(t);var a=t.getFullYear(),n=t.getMonth()+1;console.log(n),u.a.get("".concat(s,"/customer/envios/").concat(a,"/").concat(n),{withCredentials:!0}).then((function(e){N(e.data)})),u.a.get("".concat(s,"/complexes"),{withCredentials:!0}).then((function(e){D(e.data)}))})).catch((function(){v(!0)}))}),[]);return h?l.a.createElement(i.a,{to:"/"}):r?w?l.a.createElement(i.a,{to:"/customer/service/".concat(F,"/edit")}):S&&U?(S.sort((function(e,t){return t.id-e.id})),l.a.createElement(l.a.Fragment,null,l.a.createElement(j,{loggedInUser:r,logOut:e.logOut}),l.a.createElement(x,{loggedInUser:r,onFilter:function(e){e.preventDefault();var t=e.currentTarget,a=t.month,n=t.year;console.log(a.value,n.value),u.a.get("".concat(s,"/customer/envios/").concat(n.value,"/").concat(a.value)).then((function(e){N(e.data)}))}}),l.a.createElement("div",{style:{marginBottom:"50px"}},S.map((function(e,t){console.log(U);var a=U.find((function(t){return t.rfidId===e.cliente_id}));return console.log(a),l.a.createElement(E.a,{key:"alb"+t,style:{margin:"20px"}},l.a.createElement(E.a.Header,null,l.a.createElement("div",{style:P},l.a.createElement("p",null,e.codigo),l.a.createElement("p",null,a.name),l.a.createElement("p",null,e.fecha.slice(0,10)))),l.a.createElement(E.a.Body,null,l.a.createElement(b.b,{to:"/laundry/albaran/".concat(e.id)},l.a.createElement(g.a,null,"Detalles"))))}))))):l.a.createElement(l.a.Fragment,null,l.a.createElement(j,{loggedInUser:r,logOut:e.logOut}),l.a.createElement(O,null)):l.a.createElement(O,null)}function N(e){"url(".concat(d,"/water-background.jpg)");return l.a.createElement(f.a,{collapseOnSelect:!0,expand:"lg",style:{backgroundColor:"#04c3fe"},sticky:"top"},l.a.createElement(f.a.Brand,{href:"/"},l.a.createElement("img",{src:"".concat(d,"/white-logo.png"),alt:"logo",height:"50"})),l.a.createElement(f.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(f.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(y.a,{className:"mr-auto"},l.a.createElement(y.a.Link,{href:"/hotel/home"},"Mis Lavados"),l.a.createElement(y.a.Link,{href:"/hotel/trazabilidad"},"Trazabilidad"),l.a.createElement(y.a.Link,{href:"/hotel/stock/".concat(e.loggedInUser.rfidComplexId)},"Stock")),e.loggedInUser?l.a.createElement(y.a,null,l.a.createElement(y.a,null,l.a.createElement(g.a,{onClick:e.logOut},"LogOut "))):l.a.createElement(y.a,null,l.a.createElement(y.a,null,l.a.createElement(b.b,{to:"/signin"}," ",l.a.createElement(g.a,null,"Registrarse"))))))}var I=a(100),k=a(108);function w(e){var t=e.match.params.id,a=Object(n.useState)(null),r=Object(o.a)(a,2),c=r[0],m=r[1],d=Object(n.useState)(null),p=Object(o.a)(d,2),g=p[0],f=p[1],b=Object(n.useState)(null),h=Object(o.a)(b,2),v=h[0],y=h[1],C=Object(n.useState)(null),x=Object(o.a)(C,2),j=(x[0],x[1],Object(n.useState)(null)),S=Object(o.a)(j,2),w=S[0],L=S[1],T=Object(n.useState)(!1),F=Object(o.a)(T,2),A=F[0],_=F[1];if(Object(n.useEffect)((function(){u.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){m(e.data)})).catch((function(){_(!0)})),e&&u.a.get("".concat(s,"/customer/envio/").concat(t),{withCredentials:!0}).then((function(e){f(e.data),console.log(e.data),u.a.get("".concat(s,"/complex/").concat(e.data.envio[0].cliente_id,"/details/byrfidid"),{withCredentials:!0}).then((function(e){console.log(e.data[0]),y(e.data[0])})),u.a.get("".concat(s,"/pesos/envio/").concat(t),{withCredentials:!0}).then((function(e){console.log("pesos",e.data),L(e.data)}))}))}),[]),A)return l.a.createElement(i.a,{to:"/"});if(!g||!v||!w)return l.a.createElement(O,null);var U=0,D=0;return l.a.createElement(l.a.Fragment,null,l.a.createElement(N,{loggedInUser:c,logOut:e.logOut}),l.a.createElement(E.a,{style:{margin:"10px 10px 60px 10px"}},l.a.createElement(E.a.Header,{as:"h5"},"Fecha: ",g.envio[0].fecha.slice(0,10)," - ",g.envio[0].fecha.slice(11,19)+" || ","Complejo: ",v.name),l.a.createElement(I.a,{striped:!0,bordered:!0,hover:!0,style:{},id:"ComplexLaundriesTable"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Art\xedculo"),l.a.createElement("th",null,"Cantidad"),l.a.createElement("th",null,"Precio"),l.a.createElement("th",null,"Subtotal"))),g?g.serial.map((function(e,t){console.log(e),console.log(v.linen);var a=v.linen.find((function(t){return console.log(t.laundry.rfidid,"and",e.articulo.rfidid),t.laundry.rfidid===e.articulo.rfidid}));return a&&(U+=a.price*e.cantidad),l.a.createElement("tbody",{key:t+"alb_art"},l.a.createElement("tr",null,l.a.createElement("td",null,e.articulo.name),l.a.createElement("td",null,e.cantidad),l.a.createElement("td",null,a?a.price:""),l.a.createElement("td",null,a?(a.price*e.cantidad).toFixed(2)+" \u20ac":"")))})):""),l.a.createElement("h5",{style:{textAlign:"center",margin:"0px"}},"Total: ",U.toFixed(2),"\u20ac"),l.a.createElement("hr",null),l.a.createElement("h5",{style:{textAlign:"center"}},"Jaulas enviadas: ",l.a.createElement("b",null,g.envio[0].totalbultos)),l.a.createElement(k.a,{variant:"flush",style:{textAlign:"center"}},w.map((function(e,t){return D+=e.peso-46.2,l.a.createElement(k.a.Item,{style:{padding:"3px"}},t+1," -> ",e.peso," kg")}))),l.a.createElement("h6",{style:{alignSelf:"center",margin:0,padding:"6px"}},"KG ropa: ",D.toFixed(2)," Kg ",v.klgPrice?"- Total:"+(D*v.klgPrice).toFixed(2)+" \u20ac":"")))}function L(e){return e.loggedInUser?l.a.createElement("div",{className:"sticky-top"},l.a.createElement(f.a,{collapseOnSelect:!0,expand:"lg",bg:"light",variant:"light",sticky:"top"},l.a.createElement(f.a.Brand,{href:""},"Envios"),l.a.createElement(f.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(f.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(y.a,{className:"mr-auto"},l.a.createElement(p.a,{onSubmit:e.onFilter},l.a.createElement(p.a.Row,{style:{alignItems:"center",justifyContent:"center"}},l.a.createElement(p.a.Control,{name:"month",as:"select",custom:!0,style:{width:"180px"}},l.a.createElement("option",{selected:!0},"Selecciona mes"),l.a.createElement("option",{value:"1"},"Enero"),l.a.createElement("option",{value:"2"},"Febrero"),l.a.createElement("option",{value:"3"},"Marzo"),l.a.createElement("option",{value:"4"},"Abril"),l.a.createElement("option",{value:"5"},"Mayo"),l.a.createElement("option",{value:"6"},"Junio"),l.a.createElement("option",{value:"7"},"Julio"),l.a.createElement("option",{value:"8"},"Agosto"),l.a.createElement("option",{value:"9"},"Septiembre"),l.a.createElement("option",{value:"10"},"Octubre"),l.a.createElement("option",{value:"11"},"Noviembre"),l.a.createElement("option",{value:"12"},"Diciembre")),l.a.createElement(p.a.Control,{name:"year",as:"select",custom:!0,style:{width:"90px"}},l.a.createElement("option",{value:"2021"},"2021"),l.a.createElement("option",{value:"2020"},"2020"),l.a.createElement("option",{value:"2019"},"2019"),l.a.createElement("option",{value:"2018"},"2018"),l.a.createElement("option",{value:"2017"},"2017"),l.a.createElement("option",{value:"2016"},"2016")),l.a.createElement(g.a,{type:"submit",style:{height:"fit-content",marginLeft:"10px"}},"Buscar")))),l.a.createElement(y.a,{style:{margin:"0px 20px 0px 0px",fontSize:"20px"}},l.a.createElement("p",{style:{margin:"0px"}},e.loggedInUser.userName))))):l.a.createElement(O,null)}function T(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),r=a[0],c=a[1],m=Object(n.useState)(null),d=Object(o.a)(m,2),p=(d[0],d[1],Object(n.useState)(!1)),f=Object(o.a)(p,2),h=f[0],v=f[1],y=Object(n.useState)(null),C=Object(o.a)(y,2),x=C[0],j=C[1],S=Object(n.useState)(!1),I=Object(o.a)(S,2),k=I[0],w=(I[1],Object(n.useState)(null)),T=Object(o.a)(w,2),F=T[0],A=(T[1],{display:"flex",flexDirecction:"row",justifyContent:"space-between"});Object(n.useEffect)((function(){u.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){c(e.data),u.a.get("".concat(s,"/customer/").concat(e.data.rfidComplexId,"/envios"),{withCredentials:!0}).then((function(e){j(e.data)}))})).catch((function(){v(!0)}))}),[]);return h?l.a.createElement(i.a,{to:"/"}):r?k?l.a.createElement(i.a,{to:"/customer/service/".concat(F,"/edit")}):x?(x.sort((function(e,t){return t.id-e.id})),l.a.createElement(l.a.Fragment,null,l.a.createElement(N,{loggedInUser:r,logOut:e.logOut}),l.a.createElement(L,{loggedInUser:r,onFilter:function(e){e.preventDefault();var t=e.currentTarget,a=t.month,n=t.year;console.log(a.value,n.value),u.a.get("".concat(s,"/customer/").concat(r.rfidComplexId,"/envios/").concat(n.value,"/").concat(a.value)).then((function(e){j(e.data)}))}}),l.a.createElement("div",{style:{marginBottom:"50px"}},x.map((function(e,t){return l.a.createElement(E.a,{key:"alb"+t,style:{margin:"20px"}},l.a.createElement(E.a.Header,null,l.a.createElement("div",{style:A},l.a.createElement("p",null,e.codigo),e.fecha.slice(0,10))),l.a.createElement(E.a.Body,null,l.a.createElement(b.b,{to:"/hotel/albaran/".concat(e.id)},l.a.createElement(g.a,null,"Detalles"))))}))))):l.a.createElement(l.a.Fragment,null,l.a.createElement(N,{loggedInUser:r,logOut:e.logOut}),l.a.createElement(O,null)):l.a.createElement(O,null)}var F=a(101),A=a(57),_=a(103);function U(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(!1),m=Object(o.a)(i,2),u=(m[0],m[1],function(){return c(!1)});return l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{style:{textAlign:"center",marginTop:"20px",color:"#328CB6",fontWeight:"600",fontSize:"20px"}},"Clientes"),l.a.createElement("div",{className:"create-laundryitem-btn",style:{textAlign:"center"}},l.a.createElement(g.a,{onClick:function(){return c(!0)},className:"general-btn createbtn"},"Crear nuevo")),l.a.createElement(_.a,{centered:!0,show:r,onHide:u},l.a.createElement(_.a.Header,{closeButton:!0},l.a.createElement(_.a.Title,{className:"admin-card-title"},"Nuevo cliente")),l.a.createElement(_.a.Body,null,l.a.createElement(p.a,{onSubmit:e.onCreateComplex},l.a.createElement(F.a,null,l.a.createElement(A.a,null,l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"Name"),l.a.createElement(p.a.Control,{name:"name",type:"text",placeholder:"Enter name"})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"Address"),l.a.createElement(p.a.Control,{name:"adress",type:"text",placeholder:"Enter description",maxLength:"100"})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"RFID_ID"),l.a.createElement(p.a.Control,{name:"rfidId",type:"number",placeholder:"RFID_ID",maxLength:"10"})),l.a.createElement(p.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(p.a.Label,{className:"admin-card-title"},"Category"),l.a.createElement(p.a.Control,{name:"services",as:"select"},l.a.createElement("option",null,"Choose a service"),["laundry","renting"].map((function(e,t){return l.a.createElement("option",{key:"category"+t,value:e},e)})))),l.a.createElement(p.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(p.a.Label,{className:"admin-card-title"},"Cotizaci\xf3n"),l.a.createElement(p.a.Control,{name:"typeOfQuote",as:"select"},l.a.createElement("option",null,"Tipo de cootizaci\xf3n"),["kilo","prenda"].map((function(e,t){return l.a.createElement("option",{key:"quote"+t,value:e},e)})))),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"klgPrice"),l.a.createElement(p.a.Control,{name:"klgPrice",type:"number",step:"any",placeholder:"Precio Kilo",maxLength:"10"})))),e.err?l.a.createElement("p",{style:{color:"#036C9C"}},e.errorMessage):l.a.createElement(l.a.Fragment,null),l.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},l.a.createElement(g.a,{onClick:e.handleError,className:"general-btn",variant:"primary",type:"submit"},"Create Item"),e.createSucces?l.a.createElement(g.a,{className:"general-btn",onClick:u},"Back to list"):l.a.createElement(l.a.Fragment,null))))))}function D(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),r=a[0],c=a[1],m=Object(n.useState)(null),d=Object(o.a)(m,2),f=d[0],h=d[1],v=Object(n.useState)(!1),y=Object(o.a)(v,2),C=y[0],x=y[1],S=["laundry","renting"],N=["kilo","prenda"];Object(n.useEffect)((function(){u.a.get("".concat(s,"/complexes"),{withCredentials:!0}).then((function(e){c(e.data)})),u.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){h(e.data)})).catch((function(){x(!0)}))}),[]);var I=function(){};return C?l.a.createElement(i.a,{to:"/"}):r&&f?l.a.createElement(l.a.Fragment,null,l.a.createElement(j,{logOut:e.logOut,loggedInUser:f}),l.a.createElement(U,{onCreateComplex:function(e){e.preventDefault();var t=e.currentTarget,a=t.name,n=t.adress,l=t.services,o=t.rfidId,i=t.typeOfQuote,m=t.klgPrice;console.log(a,n,l),u.a.post("".concat(s,"/complex/create"),{name:a.value,adress:n.value,services:l.value,rfidId:o.value,typeOfQuote:i.value,klgPrice:m.value},{withCredentials:!0}).then((function(e){var t=JSON.parse(JSON.stringify(r));t.push(e.data),c(t)}))}}),l.a.createElement("hr",null),l.a.createElement("div",{className:"usersComplexCards"},r.map((function(t,a){return l.a.createElement("div",{className:"userComplexCard",key:"complex"+a},l.a.createElement(E.a,{style:{width:"18rem",margin:"10px"}},l.a.createElement(E.a.Body,null,l.a.createElement(p.a,{onSubmit:I},l.a.createElement(F.a,null,l.a.createElement(A.a,null,l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"Nombre"),l.a.createElement(p.a.Control,{name:"name",type:"text",defaultValue:t.name})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"Direcci\xf3n"),l.a.createElement(p.a.Control,{name:"adress",type:"text",defaultValue:t.adress,maxLength:"100"})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"RFID ID"),l.a.createElement(p.a.Control,{name:"rfidId",type:"number",defaultValue:t.rfidId,maxLength:"10"})),l.a.createElement(p.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(p.a.Label,{className:"admin-card-title"},"Categoria"),l.a.createElement(p.a.Control,{name:"services",as:"select"},l.a.createElement("option",null,t.services),S.map((function(e,t){return l.a.createElement("option",{key:"category"+t,value:e},e)})))),l.a.createElement(p.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(p.a.Label,{className:"admin-card-title"},"Cotizaci\xf3n"),l.a.createElement(p.a.Control,{name:"typeOfQuote",as:"select"},l.a.createElement("option",null,t.typeOfQuote),N.map((function(e,t){return l.a.createElement("option",{key:"quote"+t,value:e},e)})))),t.klgPrice?l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"klgPrice"),l.a.createElement(p.a.Control,{name:"klgPrice",type:"number",step:"any",defaultValue:t.klgPrice})):"")),l.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},l.a.createElement("div",{className:"buttonCouple"},l.a.createElement(g.a,{onClick:e.handleError,className:"general-btn",variant:"primary",type:"submit"},"Modificar"),l.a.createElement(g.a,{variant:"warning",onClick:void t._id},t.disable?"Abilitar":"Desabilitar"),"prenda"===t.typeOfQuote?l.a.createElement(b.b,{to:"/complex/".concat(t._id,"/laundries")},l.a.createElement(g.a,{variant:"info"},"Cotizaci\xf3n")):""))))))})))):l.a.createElement(O,null)}function P(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],c=a[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{style:{textAlign:"center",marginTop:"20px",color:"#328CB6",fontWeight:"600",fontSize:"20px"}},"Usuarios"),l.a.createElement("div",{className:"create-laundryitem-btn",style:{textAlign:"center"}},l.a.createElement(g.a,{onClick:function(){return c(!0)},className:"general-btn createbtn"},"Crear nuevo")),l.a.createElement(_.a,{centered:!0,show:r,onHide:function(){return c(!1)}},l.a.createElement(_.a.Header,{closeButton:!0},l.a.createElement(_.a.Title,{className:"admin-card-title"},"Nuevo usuario")),l.a.createElement(_.a.Body,null,l.a.createElement(p.a,{onSubmit:e.handleCreateUser},l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"Nombre"),l.a.createElement(p.a.Control,{name:"firstName",type:"text",placeholder:"Nombre"})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"Nombre"),l.a.createElement(p.a.Control,{name:"userName",type:"text",placeholder:"Nombre de usuario"})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"Email"),l.a.createElement(p.a.Control,{name:"email",type:"email",placeholder:"email"})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"RfidComplexId"),l.a.createElement(p.a.Control,{name:"rfidComplexId",type:"number",placeholder:"rfidComplexId"})),l.a.createElement(p.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(p.a.Label,{className:"admin-card-title"},"Category"),l.a.createElement(p.a.Control,{name:"userType",as:"select"},l.a.createElement("option",null,"Tipo de usuario"),["gobernanta","empaquetador","admin","revisador","direccion"].map((function(e,t){return l.a.createElement("option",{key:"userType"+t,value:e},e)})))),l.a.createElement(p.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(p.a.Label,{className:"admin-card-title"},"Complejo"),l.a.createElement(p.a.Control,{name:"complex",as:"select"},l.a.createElement("option",null,"Seleciona un complejo"),e.complexes.map((function(e,t){return l.a.createElement("option",{key:"complexId"+t,value:e._id},e.name)})))),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"Contrase\xf1a"),l.a.createElement(p.a.Control,{name:"password",type:"password",placeholder:"Contrase\xf1a"})),l.a.createElement("div",{className:"buttonCouple"},l.a.createElement(g.a,{onClick:e.handleError,className:"general-btn",variant:"primary",type:"submit"},"Crear"))))))}function B(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),r=a[0],c=a[1],m=Object(n.useState)(!1),d=Object(o.a)(m,2),f=d[0],b=d[1],h=Object(n.useState)(null),v=Object(o.a)(h,2),y=v[0],C=v[1],x=Object(n.useState)(null),S=Object(o.a)(x,2),N=S[0],I=S[1];Object(n.useEffect)((function(){u.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){c(e.data)})).catch((function(){b(!0)})),u.a.get("".concat(s,"/user/all"),{withCredentials:!0}).then((function(e){C(e.data)})),u.a.get("".concat(s,"/complexes"),{withCredentials:!0}).then((function(e){I(e.data)}))}),[]);return f?l.a.createElement(i.a,{to:"/"}):y&&r&&N?l.a.createElement(l.a.Fragment,null,l.a.createElement(j,{logOut:e.logOut,loggedInUser:r}),l.a.createElement(P,{handleCreateUser:function(e){e.preventDefault();var t=e.currentTarget,a=t.userName,n=t.firstName,l=t.email,r=t.userType,c=t.complex,o=t.password,i=t.rfidComplexId;u.a.post("".concat(s,"/signup"),{userName:a.value,firstName:n.value,email:l.value,userType:r.value,complex:c?c.value:null,password:o.value,rfidComplexId:i.value},{withCredentials:!0}).then((function(e){var t=JSON.parse(JSON.stringify(y));t.push(e.data),C(t)}))},complexes:N}),l.a.createElement("hr",null),l.a.createElement("div",{className:"usersComplexCards"},y.map((function(t,a){return l.a.createElement("div",{className:"userComplexCard",key:"users"+a},l.a.createElement(E.a,{key:"user"+a,style:{width:"18rem",margin:"10px"}},l.a.createElement(E.a.Body,null,l.a.createElement(p.a,{onSubmit:function(e){return function(e,t){e.preventDefault(),console.log(e);var a=e.currentTarget,n=a.firstName,l=a.email,r=a.userType,c=a.complex;u.a.post("".concat(s,"/user/").concat(t,"/edit"),{firstName:n.value,email:l.value,userType:r.value,complex:c?c.value:null},{withCredentials:!0}).then((function(e){var a=JSON.parse(JSON.stringify(y));a.map((function(a){return a._id===t?e.data:a})),C(a)}))}(e,t._id)}},l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"Nombre"),l.a.createElement(p.a.Control,{name:"firstName",type:"text",defaultValue:t.firstName})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"email"),l.a.createElement(p.a.Control,{name:"email",type:"email",defaultValue:t.email})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"Acceso"),l.a.createElement(p.a.Control,{name:"userType",type:"text",defaultValue:t.userType})),(t.userType,l.a.createElement(p.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(p.a.Label,{className:"admin-card-title"},"Complejo"),l.a.createElement(p.a.Control,{name:"complex",as:"select"},l.a.createElement("option",null,t.complex?t.complex.name:"Elige una categor\xeda"),N.map((function(e,t){return l.a.createElement("option",{key:"complexId"+t,value:e._id},e.name)}))))),l.a.createElement("div",{className:"buttonCouple"},l.a.createElement(g.a,{onClick:e.handleError,className:"general-btn",variant:"primary",type:"submit"},"Modificar"),l.a.createElement(g.a,{variant:"warning",onClick:function(){return e=t._id,console.log("disabling"),void u.a.put("".concat(s,"/user/").concat(e,"/disabled"),{},{withCredentials:!0}).then((function(e){console.log("disabled")}));var e}},t.disable?"Abilitar":"Desabilitar"))))))})))):l.a.createElement(O,null)}function G(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],c=a[1],i=function(){return c(!1)};return l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{style:{textAlign:"center",marginTop:"20px",color:"#328CB6",fontWeight:"600",fontSize:"20px"}},"Prendas"),l.a.createElement("div",{className:"create-laundryitem-btn",style:{textAlign:"center"}},l.a.createElement(g.a,{onClick:function(){return c(!0)},className:"general-btn createbtn"},"Crear nuevo")),l.a.createElement(_.a,{centered:!0,show:r,onHide:i},l.a.createElement(_.a.Header,{closeButton:!0},l.a.createElement(_.a.Title,{className:"admin-card-title"},"Nuevo art\xedculo")),l.a.createElement(_.a.Body,null,l.a.createElement(p.a,{onSubmit:e.onCreateLaundry},l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"Nombre"),l.a.createElement(p.a.Control,{name:"name",type:"text",placeholder:"Introduce el nombre de la prenda"})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"C\xf3digo"),l.a.createElement(p.a.Control,{name:"code",type:"text",placeholder:"Introduce un c\xf3digo",maxLength:"100"})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"RFID ID"),l.a.createElement(p.a.Control,{name:"rfidId",type:"number",placeholder:"RFID ID",maxLength:"10"})),e.err?l.a.createElement("p",{style:{color:"#036C9C"}},e.errorMessage):l.a.createElement(l.a.Fragment,null),l.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},l.a.createElement(g.a,{onClick:e.handleError,className:"general-btn",variant:"primary",type:"submit"},"Create Item"),e.createSucces?l.a.createElement(g.a,{className:"general-btn",onClick:i},"Back to list"):l.a.createElement(l.a.Fragment,null))))))}function R(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),r=a[0],c=a[1],m=Object(n.useState)(null),d=Object(o.a)(m,2),f=d[0],b=d[1],h=Object(n.useState)(!1),v=Object(o.a)(h,2),y=v[0],C=v[1];Object(n.useEffect)((function(){u.a.get("".concat(s,"/laundries"),{withCredentials:!0}).then((function(e){c(e.data)})),u.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){b(e.data)})).catch((function(){C(!0)}))}),[]);return y?l.a.createElement(i.a,{to:"/"}):r&&f?l.a.createElement(l.a.Fragment,null,l.a.createElement(j,{logOut:e.logOut,loggedInUser:f}),l.a.createElement(G,{onCreateLaundry:function(e){e.preventDefault();var t=e.currentTarget,a=t.name,n=t.code,l=t.rfidId;u.a.post("".concat(s,"/laundry/create"),{name:a.value,code:n.value,rfidId:l.value},{withCredentials:!0}).then((function(e){var t=JSON.parse(JSON.stringify(r));t.push(e.data),c(t)}))}}),l.a.createElement("hr",null),l.a.createElement("div",{className:"usersComplexCards"},r.map((function(t,a){return l.a.createElement("div",{className:"userComplexCard"},l.a.createElement(E.a,{key:"complex"+a,style:{width:"18rem",margin:"10px"}},l.a.createElement(E.a.Body,null,l.a.createElement(p.a,{onSubmit:function(e){return function(e,t){e.preventDefault();var a=e.currentTarget,n=a.name,l=a.code,o=a.rfidId;u.a.post("".concat(s,"/laundry/").concat(t,"/update"),{name:n.value,code:l.value,rfidId:o.value},{withCredentials:!0}).then((function(e){var a=JSON.parse(JSON.stringify(r));a.map((function(a){return a._id===t?e.data:a})),c(a)}))}(e,t._id)}},l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"Nombre"),l.a.createElement(p.a.Control,{name:"name",type:"text",defaultValue:t.name})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"C\xf3digo"),l.a.createElement(p.a.Control,{name:"code",type:"text",defaultValue:t.code,maxLength:"100"})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"RFID ID"),l.a.createElement(p.a.Control,{name:"rfidId",type:"number",defaultValue:t.rfidid,maxLength:"10"})),l.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},l.a.createElement("div",{className:"buttonCouple"},l.a.createElement(g.a,{onClick:e.handleError,className:"general-btn",variant:"primary",type:"submit"},"Modificar"),l.a.createElement(g.a,{variant:"danger"},"Eliminar")))))))})))):l.a.createElement(O,null)}var J=a(102);function z(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],c=a[1],i=function(){return c(!1)};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"create-laundryitem-btn",style:{textAlign:"center"}},l.a.createElement(g.a,{onClick:function(){return c(!0)},className:"general-btn createbtn"},"A\xf1adir art\xedculo")),l.a.createElement(_.a,{centered:!0,show:r,onHide:i},l.a.createElement(_.a.Header,{closeButton:!0},l.a.createElement(_.a.Title,{className:"admin-card-title"},"Nuevo art\xedculo")),l.a.createElement(_.a.Body,null,l.a.createElement("h6",null,e.complex.name),l.a.createElement(p.a,{onSubmit:e.AddLaundry},l.a.createElement(p.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(p.a.Label,{className:"admin-card-title"},"Prenda"),l.a.createElement(p.a.Control,{name:"laundry",as:"select"},l.a.createElement("option",null,"Selecciona el art\xedculo"),e.laundries.map((function(e,t){return l.a.createElement("option",{key:"laundry"+t,value:e._id},e.code,"-",e.name)})))),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"Precio"),l.a.createElement(p.a.Control,{name:"price",type:"number",step:"any",placeholder:"5,34"})),e.err?l.a.createElement("p",{style:{color:"#036C9C"}},e.errorMessage):l.a.createElement(l.a.Fragment,null),l.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},l.a.createElement(g.a,{onClick:e.handleError,className:"general-btn",variant:"primary",type:"submit"},"Create Item"),e.createSucces?l.a.createElement(g.a,{className:"general-btn",onClick:i},"Back to list"):l.a.createElement(l.a.Fragment,null))))))}function H(e){var t=e.match.params.id,a=Object(n.useState)(null),r=Object(o.a)(a,2),c=r[0],m=r[1],d=Object(n.useState)(!1),E=Object(o.a)(d,2),f=E[0],b=E[1],h=Object(n.useState)(null),v=Object(o.a)(h,2),y=v[0],C=v[1],x=Object(n.useState)(null),S=Object(o.a)(x,2),N=S[0],k=S[1];Object(n.useState)((function(){u.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){m(e.data)})).catch((function(){b(!0)})),u.a.get("".concat(s,"/laundries"),{withCredentials:!0}).then((function(e){C(e.data)})),u.a.get("".concat(s,"/complex/").concat(t,"/details"),{withCredentials:!0}).then((function(e){k(e.data)}))}),[]);return console.log(N),f?l.a.createElement(i.a,{to:"/"}):y&&N&&c?l.a.createElement("div",null,l.a.createElement(j,{logOut:e.logOut,loggedInUser:c}),l.a.createElement("h4",{style:{textAlign:"center",margin:"10px"}},N.name),l.a.createElement("hr",null),l.a.createElement(z,{laundries:y,complex:N,AddLaundry:function(e){e.preventDefault();var a,n=e.currentTarget,l=n.laundry,r=n.price;if(N.linen){var c=JSON.parse(JSON.stringify(N.linen)),o={laundry:l.value,price:r.value};c.push(o),a=c}else a=[{laundry:l.value,price:r.value}];console.log(a),u.a.post("".concat(s,"/complex/").concat(t,"/updatelinen"),{linen:a},{withCredentials:!0}).then((function(e){window.location.reload(!1)}))}}),l.a.createElement("hr",null),l.a.createElement("div",{id:"ComplexLaundries"},l.a.createElement(I.a,{striped:!0,bordered:!0,hover:!0,style:{marginTop:"10px"},id:"ComplexLaundriesTable"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"C\xf3digo"),l.a.createElement("th",null,"Art\xedculo"),l.a.createElement("th",null,"Precio"))),N.linen?N.linen.map((function(e,a){return l.a.createElement("tbody",{key:a+"laundry"},l.a.createElement("tr",null,l.a.createElement("td",null,e.laundry.code),l.a.createElement("td",null,e.laundry.name),l.a.createElement("td",{style:{width:"300px",padding:"0px"}},l.a.createElement(p.a,{onSubmit:function(a){return function(e,a){e.preventDefault();var n=e.currentTarget.price,l=JSON.parse(JSON.stringify(N)).linen.map((function(e){return console.log(a,"id"),console.log(e.laundry._id,"laundryId"),e.laundry._id===a&&(e.price=n.value),e}));console.log(l),u.a.post("".concat(s,"/complex/").concat(t,"/updatelinen"),{linen:l},{withCredentials:!0}).then((function(e){console.log(e.data)}))}(a,e.laundry._id)},style:{display:"flex",justifyContent:" space-around",alignItems:"center",padding:"5px"}},l.a.createElement(J.a,null,l.a.createElement(p.a.Control,{id:"laundryPriceForm",name:"price",type:"number",step:"any",defaultValue:e.price}),l.a.createElement(J.a.Append,null,l.a.createElement(J.a.Text,null,"\u20ac"))),l.a.createElement(g.a,{style:{marginLeft:"10px"},variant:"secondary",type:"submit"},"Editar")))))})):""))):l.a.createElement(O,null)}function W(e){var t=e.match.params.id,a=Object(n.useState)(null),r=Object(o.a)(a,2),c=r[0],m=r[1],d=Object(n.useState)(!1),E=Object(o.a)(d,2),f=E[0],h=E[1],v=Object(n.useState)(null),y=Object(o.a)(v,2),C=y[0],x=y[1];return Object(n.useEffect)((function(){u.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){m(e.data)})).catch((function(){h(!0)})),u.a.get("".concat(s,"/customer/order/").concat(t),{withCredentials:!0}).then((function(e){x(e.data)}))}),[]),f?l.a.createElement(i.a,{to:"/"}):c&&C?(console.log(C),l.a.createElement(l.a.Fragment,null,l.a.createElement("h6",null,"C\xf3digo de pedido: ",C._id),l.a.createElement("h5",null,"Cliente: ",C.complexId.name),l.a.createElement("h6",null,"Creado por: ",C.CreatedBy.firstName),l.a.createElement("h5",null,"Estado: ","ordering"===C.status?"Por enviar":"ordered"===C.status?"Enviado":"cerrado"),l.a.createElement(I.a,{striped:!0,bordered:!0,hover:!0,style:{marginTop:"10px"},id:"ComplexLaundriesTable"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Catidad de repaso"),l.a.createElement("th",null,"Art\xedculo"),l.a.createElement("th",null,"Cantidad"))),C.complexId.linen?C.complexId.linen.map((function(t,a){return l.a.createElement("tbody",{key:a+"laundry"},l.a.createElement("tr",null,l.a.createElement("td",null,t.laundry.code),l.a.createElement("td",null,t.laundry.name),l.a.createElement("td",{style:{width:"200px",padding:"0px"}},l.a.createElement(p.a,{onSubmit:function(a){return e.handleEditAmount(a,t.laundry._id)},style:{display:"flex",justifyContent:" space-around",alignItems:"center",padding:"5px"}},l.a.createElement(p.a.Control,{style:{width:"80px",textAlign:"left"},name:"price",type:"number"})))))})):"There isnt any linen uploaded in this"),l.a.createElement(b.b,{to:"/hotel/home"},l.a.createElement(g.a,null,"Atr\xe1s")))):l.a.createElement(O,null)}function M(){return l.a.createElement(f.a,{fixed:"bottom",expand:"lg",style:{backgroundColor:"#04c3fe",marginTop:"10px"}},l.a.createElement(f.a.Brand,{style:{color:"white"},href:"#"},"SmartLinen - Alpha"))}function V(e){return e.loggedInUser?l.a.createElement("div",{className:"sticky-top"},l.a.createElement(f.a,{collapseOnSelect:!0,expand:"lg",bg:"light",variant:"light",sticky:"top"},l.a.createElement(f.a.Brand,{href:"/hotel/stock/".concat(e.loggedInUser.rfidComplexId)},"Prendas en circulaci\xf3n"),l.a.createElement(f.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(f.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(y.a,{className:"mr-auto"},l.a.createElement(y.a.Link,null,"Lavados"),l.a.createElement(y.a.Link,{onClick:e.byDate},"Fecha de creaci\xf3n"),l.a.createElement(y.a.Link,null,"+")),l.a.createElement(y.a,{style:{margin:"0px 20px 0px 0px",fontSize:"20px"}},l.a.createElement("p",{style:{margin:"0px"}},e.loggedInUser.userName))))):l.a.createElement(O,null)}function K(e){var t=e.match.params.id,a=Object(n.useState)(null),r=Object(o.a)(a,2),c=r[0],m=r[1],d=Object(n.useState)(null),E=Object(o.a)(d,2),p=E[0],g=E[1],f=Object(n.useState)(null),b=Object(o.a)(f,2),h=(b[0],b[1],Object(n.useState)(!1)),v=Object(o.a)(h,2),y=v[0],C=v[1],x=Object(n.useState)(!1),j=Object(o.a)(x,2),S=j[0],k=j[1],w=Object(n.useState)(null),L=Object(o.a)(w,2),T=L[0],F=L[1];Object(n.useEffect)((function(){u.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){m(e.data)})).catch((function(){C(!0)})),e&&u.a.get("".concat(s,"/customer/").concat(t,"/stock"),{withCredentials:!0}).then((function(e){console.log(e.data),g(e.data)}))}),[]);return y?l.a.createElement(i.a,{to:"/"}):p?S&&!T?l.a.createElement(O,null):(T&&T.sort((function(e,t){return new Date(t.fullDate)-new Date(e.fullDate)})),l.a.createElement(l.a.Fragment,null,l.a.createElement(N,{loggedInUser:c,logOut:e.logOut}),l.a.createElement(V,{loggedInUser:c,byDate:function(){console.log("filtering by date"),u.a.get("".concat(s,"/customer/").concat(t,"/stock/bydate"),{withCredentials:!0}).then((function(e){F(e.data),k(!0)}))}}),S?l.a.createElement(I.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",style:{marginTop:"10px",textAlign:"center"},id:"ComplexLaundriesTable"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Art\xedculo"),l.a.createElement("th",null,"Alta"))),T?T.map((function(e,t){return l.a.createElement("tbody",{key:t+"alb_art"},l.a.createElement("tr",null,l.a.createElement("td",null,e.laundry),l.a.createElement("td",null,e.day,"-",e.month,"-",e.year)))})):""):l.a.createElement(I.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",style:{marginTop:"10px",textAlign:"center"},id:"ComplexLaundriesTable"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Art\xedculo"),l.a.createElement("th",null,"Cantidad"))),p?p.map((function(e,t){if(0!==e.cantidad)return l.a.createElement("tbody",{key:t+"alb_art"},l.a.createElement("tr",null,l.a.createElement("td",null,e.articulo),l.a.createElement("td",null,e.cantidad)))})):""))):l.a.createElement(O,null)}function Q(e){var t=e.match.params.id,a=Object(n.useState)(null),r=Object(o.a)(a,2),c=r[0],m=r[1],d=Object(n.useState)(null),p=Object(o.a)(d,2),g=p[0],f=p[1],b=Object(n.useState)(null),h=Object(o.a)(b,2),v=h[0],y=h[1],C=Object(n.useState)(null),x=Object(o.a)(C,2),S=(x[0],x[1],Object(n.useState)(null)),N=Object(o.a)(S,2),w=N[0],L=N[1],T=Object(n.useState)(!1),F=Object(o.a)(T,2),A=F[0],_=F[1];if(Object(n.useEffect)((function(){console.log("displaying albaranes",e),u.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){m(e.data)})).catch((function(){_(!0)})),e&&u.a.get("".concat(s,"/customer/envio/").concat(t),{withCredentials:!0}).then((function(e){f(e.data),console.log(e.data),u.a.get("".concat(s,"/complex/").concat(e.data.envio[0].cliente_id,"/details/byrfidid"),{withCredentials:!0}).then((function(e){console.log(e.data[0]),y(e.data[0])})),u.a.get("".concat(s,"/pesos/envio/").concat(t),{withCredentials:!0}).then((function(e){console.log("pesos",e.data),L(e.data)}))}))}),[]),A)return l.a.createElement(i.a,{to:"/"});if(!g||!v||!w)return l.a.createElement(O,null);var U=0,D=0;return l.a.createElement(l.a.Fragment,null,l.a.createElement(j,{loggedInUser:c,logOut:e.logOut}),l.a.createElement(E.a,{style:{margin:"10px 10px 60px 10px"}},l.a.createElement(E.a.Header,{as:"h5"},"Fecha: ",g.envio[0].fecha.slice(0,10)," - ",g.envio[0].fecha.slice(11,19)+" || ","Complejo: ",v.name),l.a.createElement(I.a,{striped:!0,bordered:!0,hover:!0,style:{},id:"ComplexLaundriesTable"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Art\xedculo"),l.a.createElement("th",null,"Cantidad"),l.a.createElement("th",null,"Precio"),l.a.createElement("th",null,"Subtotal"))),g?g.serial.map((function(e,t){console.log(e),console.log(v.linen);var a=v.linen.find((function(t){return console.log(t.laundry.rfidid,"and",e.articulo.rfidid),t.laundry.rfidid===e.articulo.rfidid}));return a&&(U+=a.price*e.cantidad),l.a.createElement("tbody",{key:t+"alb_art"},l.a.createElement("tr",null,l.a.createElement("td",null,e.articulo.name),l.a.createElement("td",null,e.cantidad),l.a.createElement("td",null,a?a.price:""),l.a.createElement("td",null,a?(a.price*e.cantidad).toFixed(2)+" \u20ac":"")))})):""),l.a.createElement("h5",{style:{textAlign:"center",margin:"0px"}},"Total: ",U.toFixed(2),"\u20ac"),l.a.createElement("hr",null),l.a.createElement("h5",{style:{textAlign:"center"}},"Jaulas enviadas: ",l.a.createElement("b",null,g.envio[0].totalbultos)),l.a.createElement(k.a,{variant:"flush",style:{textAlign:"center"}},w.map((function(e,t){return D+=e.peso-46.2,l.a.createElement(k.a.Item,{style:{padding:"3px"}},t+1," -> ",e.peso," kg")}))),l.a.createElement("h6",{style:{alignSelf:"center",margin:0,padding:"6px"}},"KG ropa: ",D.toFixed(2)," Kg ",v.klgPrice?"- Total:"+(D*v.klgPrice).toFixed(2)+" \u20ac":"")))}function q(e){return e.loggedInUser?l.a.createElement("div",{className:"sticky-top"},l.a.createElement(f.a,{collapseOnSelect:!0,expand:"lg",bg:"light",variant:"light",sticky:"top"},l.a.createElement(f.a.Brand,{href:""},"Trazabilidad"),l.a.createElement(f.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(f.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(y.a,{className:"mr-auto"}),l.a.createElement(y.a,{style:{margin:"0px 20px 0px 0px",fontSize:"20px"}},l.a.createElement("p",{style:{margin:"0px"}},e.loggedInUser.userName))))):l.a.createElement(O,null)}function Y(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),r=a[0],c=a[1],m=Object(n.useState)(null),d=Object(o.a)(m,2),E=(d[0],d[1],Object(n.useState)(!1)),p=Object(o.a)(E,2),g=p[0],f=p[1],b=Object(n.useState)(null),h=Object(o.a)(b,2),v=(h[0],h[1]),y=Object(n.useState)(!1),C=Object(o.a)(y,2),x=C[0],j=(C[1],Object(n.useState)(null)),S=Object(o.a)(j,2),I=S[0];S[1];Object(n.useEffect)((function(){u.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){c(e.data),u.a.get("".concat(s,"/customer/").concat(e.data.rfidComplexId,"/envios"),{withCredentials:!0}).then((function(e){v(e.data)}))})).catch((function(){f(!0)}))}),[]);return g?l.a.createElement(i.a,{to:"/"}):r?x?l.a.createElement(i.a,{to:"/customer/service/".concat(I,"/edit")}):l.a.createElement(l.a.Fragment,null,l.a.createElement(N,{loggedInUser:r,logOut:e.logOut}),l.a.createElement(q,{loggedInUser:r}),l.a.createElement("p",{style:{textAlign:"center",margin:"100px 0px"}},"Servicio temporalmente no disponible")):l.a.createElement(O,null)}var $=Object(i.g)((function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),m=Object(o.a)(c,2),d=m[0],E=m[1],p=Object(n.useState)(null),g=Object(o.a)(p,2),f=g[0],b=g[1];Object(n.useEffect)((function(){a||u.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){r(e.data)}))}),[]);var h=function(e){e.preventDefault();var t=e.currentTarget,a=t.email,n=t.password;u.a.post("".concat(s,"/signin"),{email:a.value,password:n.value},{withCredentials:!0}).then((function(e){r(e.data),window.location.reload(!1)})).catch((function(e){E(!0);var t=e.response.data.error;console.log(t),b(t)}))},y=function(){u.a.post("".concat(s,"/logout"),{},{withCredentials:!0}).then((function(){console.log("loggedOut"),r(null),window.location.reload(!1)}))};return d&&null==f?l.a.createElement("p",null,"Loading..."):l.a.createElement(l.a.Fragment,null,l.a.createElement(i.d,null,l.a.createElement(i.b,{exact:!0,path:"/",render:function(){return l.a.createElement(v,{onSignIn:h,loggedInUser:a,err:d,errorMessage:f})}}),l.a.createElement(i.b,{path:"/laundry/home",render:function(){return l.a.createElement(S,{loggedInUser:a,logOut:y})}}),l.a.createElement(i.b,{path:"/hotel/home",render:function(){return l.a.createElement(T,{loggedInUser:a,logOut:y})}}),l.a.createElement(i.b,{path:"/hotel/albaran/:id",render:function(e){return l.a.createElement(w,Object.assign({},e,{loggedInUser:a,logOut:y}))}}),l.a.createElement(i.b,{path:"/laundry/albaran/:id",render:function(e){return l.a.createElement(Q,Object.assign({},e,{loggedInUser:a,logOut:y}))}}),l.a.createElement(i.b,{path:"/hotel/trazabilidad",render:function(e){return l.a.createElement(Y,Object.assign({},e,{loggedInUser:a,logOut:y}))}}),l.a.createElement(i.b,{path:"/hotel/stock/:id",render:function(e){return l.a.createElement(K,Object.assign({},e,{loggedInUser:a,logOut:y}))}}),l.a.createElement(i.b,{path:"/laundry/complexes",render:function(){return l.a.createElement(D,{loggedInUser:a,logOut:y})}}),l.a.createElement(i.b,{path:"/laundry/users",render:function(){return l.a.createElement(B,{loggedInUser:a,logOut:y})}}),l.a.createElement(i.b,{path:"/laundry/laundries",render:function(){return l.a.createElement(R,{loggedInUser:a,logOut:y})}}),l.a.createElement(i.b,{path:"/complex/:id/laundries",render:function(e){return l.a.createElement(H,Object.assign({},e,{loggedInUser:a,logOut:y}))}}),l.a.createElement(i.b,{path:"/customer/service/:id/edit",render:function(e){return l.a.createElement(W,Object.assign({},e,{loggedInUser:a,logOut:y}))}})),l.a.createElement(M,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(b.a,null,l.a.createElement(l.a.StrictMode,null,l.a.createElement($,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[64,1,2]]]);
//# sourceMappingURL=main.ca90ed5e.chunk.js.map