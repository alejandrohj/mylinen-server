(this["webpackJsonpmylinen-client"]=this["webpackJsonpmylinen-client"]||[]).push([[0],{104:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(17),c=a.n(r),o=(a(76),a(3)),i=a(11),m=(a(77),a(78),a(79),a(7)),u=a.n(m),s=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL||"https://mylinen.herokuapp.com/api",d=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_PUBLIC_URL||"https://mylinen.herokuapp.com/",E=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_PUBLIC_URL,a(120)),p=a(116),g=a(109),f=a(117),b=a(8);function v(e){"url(".concat(d,"/water-background.jpg)");return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{sticky:"top",className:"general-nav",expand:"lg",style:{backgroundColor:"#04c3fe"}},l.a.createElement(b.b,{to:"/"},l.a.createElement("img",{src:"".concat(d,"/white-logo.png"),style:{width:"150px"},alt:"logo"})),l.a.createElement("div",{style:{justifySelf:"self-end"}})))}function y(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),r=a[0],c=a[1];if(Object(n.useEffect)((function(){u.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){c(e.data)}))}),[e.loggedInUser]),r){if("gobernanta"===r.userType||"direccion"===r.userType)return l.a.createElement(i.a,{to:"/hotel/home"});if("admin"===r.userType||"revisador"===r.userType)return l.a.createElement(i.a,{to:"/laundry/home"})}return console.log(e.err),console.log(e.errorMessage),l.a.createElement(l.a.Fragment,null,l.a.createElement(v,null),l.a.createElement("div",{className:"signin"},l.a.createElement("p",{style:{textAlign:"center",padding:"30px",marginLeft:"5%",marginRight:"5%",color:"#036C9C",fontWeight:"600",fontSize:"25px"}},l.a.createElement("em",null,"Organiza tu lencer\xeda con SmartLinen")),l.a.createElement(E.a,{id:"siginCard",style:{backgroundColor:"#FEFEFE"}},l.a.createElement(p.a,{noValidate:!0,className:"admin-signinform",onSubmit:e.onSignIn,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"}},l.a.createElement(p.a.Group,{style:{width:"100%"},controlId:"formBasicEmail"},l.a.createElement(p.a.Label,{style:{color:"#036C9C",fontWeight:"600"}},"Direcci\xf3n de correo"),l.a.createElement(p.a.Control,{style:{textAlign:"center"},name:"email",type:"email",placeholder:"cliente@lavanderiamogan.com",required:!0,autocomplete:"email"}),l.a.createElement(p.a.Text,{className:"text-muted"},"Tu email")),l.a.createElement(p.a.Group,{style:{width:"80%"},controlId:"formBasicPassword"},l.a.createElement(p.a.Label,{style:{color:"#036C9C",fontWeight:"600"}},"Contrase\xf1a"),l.a.createElement(p.a.Control,{style:{textAlign:"center"},name:"password",type:"password",placeholder:"Contrase\xf1a"}),l.a.createElement(p.a.Text,{className:"text-muted"},"Si no recuerdas tu contrase\xf1a, llamanos")),e.err?l.a.createElement("p",{style:{color:"#ff2b2b"}},e.errorMessage):l.a.createElement(l.a.Fragment,null),l.a.createElement(g.a,{className:"general-btn",type:"submit"},"Acceder"))),l.a.createElement("p",{style:{textAlign:"center",padding:"30px",marginLeft:"5%",marginRight:"5%",color:"#036C9C",fontWeight:"600",fontSize:"16px"}},l.a.createElement("em",null,"Aplicaci\xf3n exclusiva para clientes de Lavander\xeda Mog\xe1n"))))}var h=a(119),O=a(110);function C(){return l.a.createElement("div",{style:{textAlign:"center",marginTop:"200px"}},l.a.createElement(O.a,{animation:"border",variant:"primary"}))}function x(e){return e.loggedInUser?l.a.createElement("div",{className:"sticky-top"},l.a.createElement(f.a,{collapseOnSelect:!0,expand:"lg",bg:"light",variant:"light",sticky:"top"},l.a.createElement(f.a.Brand,{href:""},"Envios"),l.a.createElement(f.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(f.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(h.a,{className:"mr-auto"},l.a.createElement(p.a,{onSubmit:e.onFilter},l.a.createElement(p.a.Row,{style:{alignItems:"center",justifyContent:"center"}},l.a.createElement(p.a.Control,{name:"month",as:"select",custom:!0,style:{width:"180px"}},l.a.createElement("option",{selected:!0},"Selecciona mes"),l.a.createElement("option",{value:"1"},"Enero"),l.a.createElement("option",{value:"2"},"Febrero"),l.a.createElement("option",{value:"3"},"Marzo"),l.a.createElement("option",{value:"4"},"Abril"),l.a.createElement("option",{value:"5"},"Mayo"),l.a.createElement("option",{value:"6"},"Junio"),l.a.createElement("option",{value:"7"},"Julio"),l.a.createElement("option",{value:"8"},"Agosto"),l.a.createElement("option",{value:"9"},"Septiembre"),l.a.createElement("option",{value:"10"},"Octubre"),l.a.createElement("option",{value:"11"},"Noviembre"),l.a.createElement("option",{value:"12"},"Diciembre")),l.a.createElement(p.a.Control,{name:"year",as:"select",custom:!0,style:{width:"90px"}},l.a.createElement("option",{value:"2021"},"2021"),l.a.createElement("option",{value:"2020"},"2020"),l.a.createElement("option",{value:"2019"},"2019"),l.a.createElement("option",{value:"2018"},"2018"),l.a.createElement("option",{value:"2017"},"2017"),l.a.createElement("option",{value:"2016"},"2016")),l.a.createElement(g.a,{type:"submit",style:{height:"fit-content",marginLeft:"10px"}},"Buscar")))),l.a.createElement(h.a,{style:{margin:"0px 20px 0px 0px",fontSize:"20px"}},l.a.createElement("p",{style:{margin:"0px"}},e.loggedInUser.userName))))):l.a.createElement(C,null)}var j=a(111),S=a(118);function N(e){"url(".concat(d,"/water-background.jpg)");var t=function(e){return l.a.createElement(j.a,Object.assign({id:"button-tooltip"},e),"Sin autorizaci\xf3n")};return l.a.createElement(f.a,{style:{backgroundColor:"#04c3fe"},collapseOnSelect:!0,expand:"lg",sticky:"top"},l.a.createElement(f.a.Brand,{href:"/"},l.a.createElement("img",{src:"".concat(d,"/white-logo.png"),alt:"logo",height:"50"})),l.a.createElement(f.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(f.a.Collapse,{id:"responsive-navbar-nav"},"admin"===e.loggedInUser.userType?l.a.createElement(h.a,{className:"mr-auto"},l.a.createElement(h.a.Link,{href:"/laundry/home"},"Envios"),l.a.createElement(h.a.Link,{href:"/laundry/complexes"},"Complejos"),l.a.createElement(h.a.Link,{href:"/laundry/users"},"Usuarios"),l.a.createElement(h.a.Link,{href:"/laundry/laundries"},"Prendas")):l.a.createElement(h.a,{className:"mr-auto"},l.a.createElement(h.a.Link,{href:"/laundry/home"},"Envios"),l.a.createElement(S.a,{placement:"bottom",delay:{show:250,hide:400},overlay:t},l.a.createElement(h.a.Link,null,"Complejos")),l.a.createElement(S.a,{placement:"bottom",delay:{show:250,hide:400},overlay:t},l.a.createElement(h.a.Link,null,"Usuarios")),l.a.createElement(S.a,{placement:"bottom",delay:{show:250,hide:400},overlay:t},l.a.createElement(h.a.Link,null,"Prendas"))),e.loggedInUser?l.a.createElement(h.a,null,l.a.createElement(h.a,null,l.a.createElement(g.a,{onClick:e.logOut},"LogOut "))):l.a.createElement(h.a,null,l.a.createElement(h.a,null,l.a.createElement(b.b,{to:"/signin"}," ",l.a.createElement(g.a,null,"Registrarse"))))))}function I(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),r=a[0],c=a[1],m=Object(n.useState)(null),d=Object(o.a)(m,2),p=(d[0],d[1],Object(n.useState)(!1)),f=Object(o.a)(p,2),v=f[0],y=f[1],h=Object(n.useState)(null),O=Object(o.a)(h,2),j=O[0],S=O[1],I=Object(n.useState)(!1),k=Object(o.a)(I,2),w=k[0],L=(k[1],Object(n.useState)(null)),T=Object(o.a)(L,2),A=T[0],F=(T[1],Object(n.useState)(null)),U=Object(o.a)(F,2),_=U[0],D=U[1],P={display:"flex",flexDirecction:"row",justifyContent:"space-between"};Object(n.useEffect)((function(){u.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){c(e.data);var t=new Date;console.log(t);var a=t.getFullYear(),n=t.getMonth()+1;console.log(n),u.a.get("".concat(s,"/customer/envios/").concat(a,"/").concat(n),{withCredentials:!0}).then((function(e){S(e.data)})),u.a.get("".concat(s,"/complexes"),{withCredentials:!0}).then((function(e){D(e.data)}))})).catch((function(){y(!0)}))}),[]);return v?l.a.createElement(i.a,{to:"/"}):r?w?l.a.createElement(i.a,{to:"/customer/service/".concat(A,"/edit")}):j&&_?(j.sort((function(e,t){return t.id-e.id})),l.a.createElement(l.a.Fragment,null,l.a.createElement(N,{loggedInUser:r,logOut:e.logOut}),l.a.createElement(x,{loggedInUser:r,onFilter:function(e){e.preventDefault();var t=e.currentTarget,a=t.month,n=t.year;console.log(a.value,n.value),u.a.get("".concat(s,"/customer/envios/").concat(n.value,"/").concat(a.value)).then((function(e){S(e.data)}))}}),l.a.createElement("div",{style:{marginBottom:"50px"}},j.map((function(e,t){console.log(_);var a=_.find((function(t){return t.rfidId===e.cliente_id}));return console.log(a),l.a.createElement(E.a,{key:"alb"+t,style:{margin:"20px"}},l.a.createElement(E.a.Header,null,l.a.createElement("div",{style:P},l.a.createElement("p",null,e.codigo),l.a.createElement("p",null,a.name),l.a.createElement("p",null,e.fecha.slice(0,10)))),l.a.createElement(E.a.Body,null,l.a.createElement(b.b,{to:"/laundry/albaran/".concat(e.id)},l.a.createElement(g.a,null,"Detalles"))))}))))):l.a.createElement(l.a.Fragment,null,l.a.createElement(N,{loggedInUser:r,logOut:e.logOut}),l.a.createElement(C,null)):l.a.createElement(C,null)}function k(e){"url(".concat(d,"/water-background.jpg)");return l.a.createElement(f.a,{collapseOnSelect:!0,expand:"lg",style:{backgroundColor:"#04c3fe"},sticky:"top"},l.a.createElement(f.a.Brand,{href:"/"},l.a.createElement("img",{src:"".concat(d,"/white-logo.png"),alt:"logo",height:"50"})),l.a.createElement(f.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(f.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(h.a,{className:"mr-auto"},l.a.createElement(h.a.Link,{href:"/hotel/home"},"Mis Lavados"),l.a.createElement(h.a.Link,{href:"/hotel/trazabilidad"},"Trazabilidad"),l.a.createElement(h.a.Link,{href:"/hotel/stock/".concat(e.loggedInUser.rfidComplexId)},"Stock")),e.loggedInUser?l.a.createElement(h.a,null,l.a.createElement(h.a,null,l.a.createElement(g.a,{onClick:e.logOut},"LogOut "))):l.a.createElement(h.a,null,l.a.createElement(h.a,null,l.a.createElement(b.b,{to:"/signin"}," ",l.a.createElement(g.a,null,"Registrarse"))))))}var w=a(112),L=a(121);function T(e){var t=e.match.params.id,a=Object(n.useState)(null),r=Object(o.a)(a,2),c=r[0],m=r[1],d=Object(n.useState)(null),p=Object(o.a)(d,2),f=p[0],v=p[1],y=Object(n.useState)(null),h=Object(o.a)(y,2),O=h[0],x=h[1],j=Object(n.useState)(null),S=Object(o.a)(j,2),N=(S[0],S[1],Object(n.useState)(null)),I=Object(o.a)(N,2),T=I[0],A=I[1],F=Object(n.useState)(!1),U=Object(o.a)(F,2),_=U[0],D=U[1];if(Object(n.useEffect)((function(){u.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){m(e.data)})).catch((function(){D(!0)})),e&&u.a.get("".concat(s,"/customer/envio/").concat(t),{withCredentials:!0}).then((function(e){var a=[],n=JSON.parse(JSON.stringify(e.data));e.data.serial.map((function(e,t){var n=JSON.parse(JSON.stringify(e)),l=a.find((function(e){return n.articulo.name===e.articulo.name}));void 0===l&&a.push(n),void 0!==l&&a.map((function(t){return t.articulo.name===l.articulo.name?(t.cantidad+=n.cantidad,t):e}))})),n.serial=a,v(n),u.a.get("".concat(s,"/complex/").concat(e.data.envio[0].cliente_id,"/details/byrfidid"),{withCredentials:!0}).then((function(e){console.log(e.data[0]),x(e.data[0])})),u.a.get("".concat(s,"/pesos/envio/").concat(t),{withCredentials:!0}).then((function(e){console.log("pesos",e.data),A(e.data)}))}))}),[]),_)return l.a.createElement(i.a,{to:"/"});if(!f||!O||!T)return l.a.createElement(C,null);var P=0,B=0;return l.a.createElement(l.a.Fragment,null,l.a.createElement(k,{loggedInUser:c,logOut:e.logOut}),l.a.createElement(E.a,{style:{margin:"10px 10px 25px 10px"}},l.a.createElement(E.a.Header,{as:"h5",style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("span",null,f.envio[0].fecha.slice(0,10)," ; ",f.envio[0].fecha.slice(11,19)),l.a.createElement("span",null,O.name)),l.a.createElement(w.a,{striped:!0,bordered:!0,hover:!0,style:{},id:"ComplexLaundriesTable"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Art\xedculo"),l.a.createElement("th",null,"Cantidad"),l.a.createElement("th",null,"Precio"),l.a.createElement("th",null,"Subtotal"))),f?f.serial.map((function(e,t){var a=O.linen.find((function(t){return console.log(t.laundry.rfidid,"and",e.articulo.rfidid),t.laundry.rfidid===e.articulo.rfidid}));return a&&(P+=a.price*e.cantidad),l.a.createElement("tbody",{key:t+"alb_art"},l.a.createElement("tr",null,l.a.createElement("td",null,e.articulo.name),l.a.createElement("td",null,e.cantidad),l.a.createElement("td",null,a?a.price:""),l.a.createElement("td",null,a?(a.price*e.cantidad).toFixed(2)+" \u20ac":"")))})):""),l.a.createElement("h5",{style:{textAlign:"center",margin:"0px"}},"Total: ",P.toFixed(2),"\u20ac"),l.a.createElement("hr",null),l.a.createElement("h5",{style:{textAlign:"center"}},"Jaulas enviadas: ",l.a.createElement("b",null,f.envio[0].totalbultos)),l.a.createElement(L.a,{variant:"flush",style:{textAlign:"center"}},T.map((function(e,t){return B+=e.peso-46.2,l.a.createElement(L.a.Item,{style:{padding:"3px"}},t+1," -> ",e.peso," kg")}))),l.a.createElement("h6",{style:{alignSelf:"center",margin:0,padding:"6px"}},"KG ropa: ",B.toFixed(2)," Kg ",O.klgPrice?"- Total:"+(B*O.klgPrice).toFixed(2)+" \u20ac":"")),l.a.createElement("div",{style:{textAlign:"center",marginBottom:"40px"}},l.a.createElement(b.b,{to:"/hotel/home"},l.a.createElement(g.a,null," Volver"))))}function A(e){return e.loggedInUser?l.a.createElement("div",{className:"sticky-top"},l.a.createElement(f.a,{collapseOnSelect:!0,expand:"lg",bg:"light",variant:"light",sticky:"top"},l.a.createElement(f.a.Brand,{href:""},"Envios"),l.a.createElement(f.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(f.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(h.a,{className:"mr-auto"},l.a.createElement(p.a,{onSubmit:e.onFilter},l.a.createElement(p.a.Row,{style:{alignItems:"center",justifyContent:"center"}},l.a.createElement(p.a.Control,{name:"month",as:"select",custom:!0,style:{width:"180px"}},l.a.createElement("option",{selected:!0},"Selecciona mes"),l.a.createElement("option",{value:"1"},"Enero"),l.a.createElement("option",{value:"2"},"Febrero"),l.a.createElement("option",{value:"3"},"Marzo"),l.a.createElement("option",{value:"4"},"Abril"),l.a.createElement("option",{value:"5"},"Mayo"),l.a.createElement("option",{value:"6"},"Junio"),l.a.createElement("option",{value:"7"},"Julio"),l.a.createElement("option",{value:"8"},"Agosto"),l.a.createElement("option",{value:"9"},"Septiembre"),l.a.createElement("option",{value:"10"},"Octubre"),l.a.createElement("option",{value:"11"},"Noviembre"),l.a.createElement("option",{value:"12"},"Diciembre")),l.a.createElement(p.a.Control,{name:"year",as:"select",custom:!0,style:{width:"90px"}},l.a.createElement("option",{value:"2021"},"2021"),l.a.createElement("option",{value:"2020"},"2020"),l.a.createElement("option",{value:"2019"},"2019"),l.a.createElement("option",{value:"2018"},"2018"),l.a.createElement("option",{value:"2017"},"2017"),l.a.createElement("option",{value:"2016"},"2016")),l.a.createElement(g.a,{type:"submit",style:{height:"fit-content",marginLeft:"10px"}},"Buscar")))),l.a.createElement(h.a,{style:{margin:"0px 20px 0px 0px",fontSize:"20px"}},l.a.createElement("p",{style:{margin:"0px"}},e.loggedInUser.userName))))):l.a.createElement(C,null)}function F(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),r=a[0],c=a[1],m=Object(n.useState)(null),d=Object(o.a)(m,2),p=(d[0],d[1],Object(n.useState)(!1)),f=Object(o.a)(p,2),v=f[0],y=f[1],h=Object(n.useState)(null),O=Object(o.a)(h,2),x=O[0],j=O[1],S=Object(n.useState)(!1),N=Object(o.a)(S,2),I=N[0],w=(N[1],Object(n.useState)(null)),L=Object(o.a)(w,2),T=L[0],F=(L[1],{display:"flex",flexDirecction:"row",justifyContent:"space-between"});Object(n.useEffect)((function(){u.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){c(e.data),u.a.get("".concat(s,"/customer/").concat(e.data.rfidComplexId,"/envios"),{withCredentials:!0}).then((function(e){j(e.data)}))})).catch((function(){y(!0)}))}),[]);return v?l.a.createElement(i.a,{to:"/"}):r?I?l.a.createElement(i.a,{to:"/customer/service/".concat(T,"/edit")}):x?(x.sort((function(e,t){return t.id-e.id})),l.a.createElement(l.a.Fragment,null,l.a.createElement(k,{loggedInUser:r,logOut:e.logOut}),l.a.createElement(A,{loggedInUser:r,onFilter:function(e){e.preventDefault();var t=e.currentTarget,a=t.month,n=t.year;console.log(a.value,n.value),u.a.get("".concat(s,"/customer/").concat(r.rfidComplexId,"/envios/").concat(n.value,"/").concat(a.value)).then((function(e){j(e.data)}))}}),l.a.createElement("div",{style:{marginBottom:"50px"}},x.map((function(e,t){return l.a.createElement(E.a,{key:"alb"+t,style:{margin:"20px"}},l.a.createElement(E.a.Header,null,l.a.createElement("div",{style:F},l.a.createElement("p",null,e.codigo),e.fecha.slice(0,10))),l.a.createElement(E.a.Body,null,l.a.createElement(b.b,{to:"/hotel/albaran/".concat(e.id)},l.a.createElement(g.a,null,"Detalles"))))}))))):l.a.createElement(l.a.Fragment,null,l.a.createElement(k,{loggedInUser:r,logOut:e.logOut}),l.a.createElement(C,null)):l.a.createElement(C,null)}var U=a(113),_=a(65),D=a(115);function P(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(!1),m=Object(o.a)(i,2),u=(m[0],m[1],function(){return c(!1)});return l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{style:{textAlign:"center",marginTop:"20px",color:"#328CB6",fontWeight:"600",fontSize:"20px"}},"Clientes"),l.a.createElement("div",{className:"create-laundryitem-btn",style:{textAlign:"center"}},l.a.createElement(g.a,{onClick:function(){return c(!0)},className:"general-btn createbtn"},"Crear nuevo")),l.a.createElement(D.a,{centered:!0,show:r,onHide:u},l.a.createElement(D.a.Header,{closeButton:!0},l.a.createElement(D.a.Title,{className:"admin-card-title"},"Nuevo cliente")),l.a.createElement(D.a.Body,null,l.a.createElement(p.a,{onSubmit:e.onCreateComplex},l.a.createElement(U.a,null,l.a.createElement(_.a,null,l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"Name"),l.a.createElement(p.a.Control,{name:"name",type:"text",placeholder:"Enter name"})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"Address"),l.a.createElement(p.a.Control,{name:"adress",type:"text",placeholder:"Enter description",maxLength:"100"})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"RFID_ID"),l.a.createElement(p.a.Control,{name:"rfidId",type:"number",placeholder:"RFID_ID",maxLength:"10"})),l.a.createElement(p.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(p.a.Label,{className:"admin-card-title"},"Category"),l.a.createElement(p.a.Control,{name:"services",as:"select"},l.a.createElement("option",null,"Choose a service"),["laundry","renting"].map((function(e,t){return l.a.createElement("option",{key:"category"+t,value:e},e)})))),l.a.createElement(p.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(p.a.Label,{className:"admin-card-title"},"Cotizaci\xf3n"),l.a.createElement(p.a.Control,{name:"typeOfQuote",as:"select"},l.a.createElement("option",null,"Tipo de cootizaci\xf3n"),["kilo","prenda"].map((function(e,t){return l.a.createElement("option",{key:"quote"+t,value:e},e)})))),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"klgPrice"),l.a.createElement(p.a.Control,{name:"klgPrice",type:"number",step:"any",placeholder:"Precio Kilo",maxLength:"10"})))),e.err?l.a.createElement("p",{style:{color:"#036C9C"}},e.errorMessage):l.a.createElement(l.a.Fragment,null),l.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},l.a.createElement(g.a,{onClick:e.handleError,className:"general-btn",variant:"primary",type:"submit"},"Create Item"),e.createSucces?l.a.createElement(g.a,{className:"general-btn",onClick:u},"Back to list"):l.a.createElement(l.a.Fragment,null))))))}function B(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),r=a[0],c=a[1],m=Object(n.useState)(null),d=Object(o.a)(m,2),f=d[0],v=d[1],y=Object(n.useState)(!1),h=Object(o.a)(y,2),O=h[0],x=h[1],j=["laundry","renting"],S=["kilo","prenda"];Object(n.useEffect)((function(){u.a.get("".concat(s,"/complexes"),{withCredentials:!0}).then((function(e){c(e.data)})),u.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){v(e.data)})).catch((function(){x(!0)}))}),[]);var I=function(){};return O?l.a.createElement(i.a,{to:"/"}):r&&f?l.a.createElement(l.a.Fragment,null,l.a.createElement(N,{logOut:e.logOut,loggedInUser:f}),l.a.createElement(P,{onCreateComplex:function(e){e.preventDefault();var t=e.currentTarget,a=t.name,n=t.adress,l=t.services,o=t.rfidId,i=t.typeOfQuote,m=t.klgPrice;console.log(a,n,l),u.a.post("".concat(s,"/complex/create"),{name:a.value,adress:n.value,services:l.value,rfidId:o.value,typeOfQuote:i.value,klgPrice:m.value},{withCredentials:!0}).then((function(e){var t=JSON.parse(JSON.stringify(r));t.push(e.data),c(t)}))}}),l.a.createElement("hr",null),l.a.createElement("div",{className:"usersComplexCards"},r.map((function(t,a){return l.a.createElement("div",{className:"userComplexCard",key:"complex"+a},l.a.createElement(E.a,{style:{width:"18rem",margin:"10px"}},l.a.createElement(E.a.Body,null,l.a.createElement(p.a,{onSubmit:I},l.a.createElement(U.a,null,l.a.createElement(_.a,null,l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"Nombre"),l.a.createElement(p.a.Control,{name:"name",type:"text",defaultValue:t.name})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"Direcci\xf3n"),l.a.createElement(p.a.Control,{name:"adress",type:"text",defaultValue:t.adress,maxLength:"100"})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"RFID ID"),l.a.createElement(p.a.Control,{name:"rfidId",type:"number",defaultValue:t.rfidId,maxLength:"10"})),l.a.createElement(p.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(p.a.Label,{className:"admin-card-title"},"Categoria"),l.a.createElement(p.a.Control,{name:"services",as:"select"},l.a.createElement("option",null,t.services),j.map((function(e,t){return l.a.createElement("option",{key:"category"+t,value:e},e)})))),l.a.createElement(p.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(p.a.Label,{className:"admin-card-title"},"Cotizaci\xf3n"),l.a.createElement(p.a.Control,{name:"typeOfQuote",as:"select"},l.a.createElement("option",null,t.typeOfQuote),S.map((function(e,t){return l.a.createElement("option",{key:"quote"+t,value:e},e)})))),t.klgPrice?l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"klgPrice"),l.a.createElement(p.a.Control,{name:"klgPrice",type:"number",step:"any",defaultValue:t.klgPrice})):"")),l.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},l.a.createElement("div",{className:"buttonCouple"},l.a.createElement(g.a,{onClick:e.handleError,className:"general-btn",variant:"primary",type:"submit"},"Modificar"),l.a.createElement(g.a,{variant:"warning",onClick:void t._id},t.disable?"Abilitar":"Desabilitar"),"prenda"===t.typeOfQuote?l.a.createElement(b.b,{to:"/complex/".concat(t._id,"/laundries")},l.a.createElement(g.a,{variant:"info"},"Cotizaci\xf3n")):""))))))})))):l.a.createElement(C,null)}function G(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],c=a[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{style:{textAlign:"center",marginTop:"20px",color:"#328CB6",fontWeight:"600",fontSize:"20px"}},"Usuarios"),l.a.createElement("div",{className:"create-laundryitem-btn",style:{textAlign:"center"}},l.a.createElement(g.a,{onClick:function(){return c(!0)},className:"general-btn createbtn"},"Crear nuevo")),l.a.createElement(D.a,{centered:!0,show:r,onHide:function(){return c(!1)}},l.a.createElement(D.a.Header,{closeButton:!0},l.a.createElement(D.a.Title,{className:"admin-card-title"},"Nuevo usuario")),l.a.createElement(D.a.Body,null,l.a.createElement(p.a,{onSubmit:e.handleCreateUser},l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"Nombre"),l.a.createElement(p.a.Control,{name:"firstName",type:"text",placeholder:"Nombre"})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"Nombre"),l.a.createElement(p.a.Control,{name:"userName",type:"text",placeholder:"Nombre de usuario"})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"Email"),l.a.createElement(p.a.Control,{name:"email",type:"email",placeholder:"email"})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"RfidComplexId"),l.a.createElement(p.a.Control,{name:"rfidComplexId",type:"number",placeholder:"rfidComplexId"})),l.a.createElement(p.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(p.a.Label,{className:"admin-card-title"},"Category"),l.a.createElement(p.a.Control,{name:"userType",as:"select"},l.a.createElement("option",null,"Tipo de usuario"),["gobernanta","empaquetador","admin","revisador","direccion"].map((function(e,t){return l.a.createElement("option",{key:"userType"+t,value:e},e)})))),l.a.createElement(p.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(p.a.Label,{className:"admin-card-title"},"Complejo"),l.a.createElement(p.a.Control,{name:"complex",as:"select"},l.a.createElement("option",null,"Seleciona un complejo"),e.complexes.map((function(e,t){return l.a.createElement("option",{key:"complexId"+t,value:e._id},e.name)})))),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"Contrase\xf1a"),l.a.createElement(p.a.Control,{name:"password",type:"password",placeholder:"Contrase\xf1a"})),l.a.createElement("div",{className:"buttonCouple"},l.a.createElement(g.a,{onClick:e.handleError,className:"general-btn",variant:"primary",type:"submit"},"Crear"))))))}function J(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),r=a[0],c=a[1],m=Object(n.useState)(!1),d=Object(o.a)(m,2),f=d[0],b=d[1],v=Object(n.useState)(null),y=Object(o.a)(v,2),h=y[0],O=y[1],x=Object(n.useState)(null),j=Object(o.a)(x,2),S=j[0],I=j[1];Object(n.useEffect)((function(){u.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){c(e.data)})).catch((function(){b(!0)})),u.a.get("".concat(s,"/user/all"),{withCredentials:!0}).then((function(e){O(e.data)})),u.a.get("".concat(s,"/complexes"),{withCredentials:!0}).then((function(e){I(e.data)}))}),[]);return f?l.a.createElement(i.a,{to:"/"}):h&&r&&S?l.a.createElement(l.a.Fragment,null,l.a.createElement(N,{logOut:e.logOut,loggedInUser:r}),l.a.createElement(G,{handleCreateUser:function(e){e.preventDefault();var t=e.currentTarget,a=t.userName,n=t.firstName,l=t.email,r=t.userType,c=t.complex,o=t.password,i=t.rfidComplexId;u.a.post("".concat(s,"/signup"),{userName:a.value,firstName:n.value,email:l.value,userType:r.value,complex:c?c.value:null,password:o.value,rfidComplexId:i.value},{withCredentials:!0}).then((function(e){var t=JSON.parse(JSON.stringify(h));t.push(e.data),O(t)}))},complexes:S}),l.a.createElement("hr",null),l.a.createElement("div",{className:"usersComplexCards"},h.map((function(t,a){return l.a.createElement("div",{className:"userComplexCard",key:"users"+a},l.a.createElement(E.a,{key:"user"+a,style:{width:"18rem",margin:"10px"}},l.a.createElement(E.a.Body,null,l.a.createElement(p.a,{onSubmit:function(e){return function(e,t){e.preventDefault(),console.log(e);var a=e.currentTarget,n=a.firstName,l=a.email,r=a.userType,c=a.complex;u.a.post("".concat(s,"/user/").concat(t,"/edit"),{firstName:n.value,email:l.value,userType:r.value,complex:c?c.value:null},{withCredentials:!0}).then((function(e){var a=JSON.parse(JSON.stringify(h));a.map((function(a){return a._id===t?e.data:a})),O(a)}))}(e,t._id)}},l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"Nombre"),l.a.createElement(p.a.Control,{name:"firstName",type:"text",defaultValue:t.firstName})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"email"),l.a.createElement(p.a.Control,{name:"email",type:"email",defaultValue:t.email})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"Acceso"),l.a.createElement(p.a.Control,{name:"userType",type:"text",defaultValue:t.userType})),(t.userType,l.a.createElement(p.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(p.a.Label,{className:"admin-card-title"},"Complejo"),l.a.createElement(p.a.Control,{name:"complex",as:"select"},l.a.createElement("option",null,t.complex?t.complex.name:"Elige una categor\xeda"),S.map((function(e,t){return l.a.createElement("option",{key:"complexId"+t,value:e._id},e.name)}))))),l.a.createElement("div",{className:"buttonCouple"},l.a.createElement(g.a,{onClick:e.handleError,className:"general-btn",variant:"primary",type:"submit"},"Modificar"),l.a.createElement(g.a,{variant:"warning",onClick:function(){return e=t._id,console.log("disabling"),void u.a.put("".concat(s,"/user/").concat(e,"/disabled"),{},{withCredentials:!0}).then((function(e){console.log("disabled")}));var e}},t.disable?"Abilitar":"Desabilitar"))))))})))):l.a.createElement(C,null)}function R(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],c=a[1],i=function(){return c(!1)};return l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{style:{textAlign:"center",marginTop:"20px",color:"#328CB6",fontWeight:"600",fontSize:"20px"}},"Prendas"),l.a.createElement("div",{className:"create-laundryitem-btn",style:{textAlign:"center"}},l.a.createElement(g.a,{onClick:function(){return c(!0)},className:"general-btn createbtn"},"Crear nuevo")),l.a.createElement(D.a,{centered:!0,show:r,onHide:i},l.a.createElement(D.a.Header,{closeButton:!0},l.a.createElement(D.a.Title,{className:"admin-card-title"},"Nuevo art\xedculo")),l.a.createElement(D.a.Body,null,l.a.createElement(p.a,{onSubmit:e.onCreateLaundry},l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"Nombre"),l.a.createElement(p.a.Control,{name:"name",type:"text",placeholder:"Introduce el nombre de la prenda"})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"C\xf3digo"),l.a.createElement(p.a.Control,{name:"code",type:"text",placeholder:"Introduce un c\xf3digo",maxLength:"100"})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"RFID ID"),l.a.createElement(p.a.Control,{name:"rfidId",type:"number",placeholder:"RFID ID",maxLength:"10"})),e.err?l.a.createElement("p",{style:{color:"#036C9C"}},e.errorMessage):l.a.createElement(l.a.Fragment,null),l.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},l.a.createElement(g.a,{onClick:e.handleError,className:"general-btn",variant:"primary",type:"submit"},"Create Item"),e.createSucces?l.a.createElement(g.a,{className:"general-btn",onClick:i},"Back to list"):l.a.createElement(l.a.Fragment,null))))))}function z(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),r=a[0],c=a[1],m=Object(n.useState)(null),d=Object(o.a)(m,2),f=d[0],b=d[1],v=Object(n.useState)(!1),y=Object(o.a)(v,2),h=y[0],O=y[1];Object(n.useEffect)((function(){u.a.get("".concat(s,"/laundries"),{withCredentials:!0}).then((function(e){c(e.data)})),u.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){b(e.data)})).catch((function(){O(!0)}))}),[]);return h?l.a.createElement(i.a,{to:"/"}):r&&f?l.a.createElement(l.a.Fragment,null,l.a.createElement(N,{logOut:e.logOut,loggedInUser:f}),l.a.createElement(R,{onCreateLaundry:function(e){e.preventDefault();var t=e.currentTarget,a=t.name,n=t.code,l=t.rfidId;u.a.post("".concat(s,"/laundry/create"),{name:a.value,code:n.value,rfidId:l.value},{withCredentials:!0}).then((function(e){var t=JSON.parse(JSON.stringify(r));t.push(e.data),c(t)}))}}),l.a.createElement("hr",null),l.a.createElement("div",{className:"usersComplexCards"},r.map((function(t,a){return l.a.createElement("div",{className:"userComplexCard"},l.a.createElement(E.a,{key:"complex"+a,style:{width:"18rem",margin:"10px"}},l.a.createElement(E.a.Body,null,l.a.createElement(p.a,{onSubmit:function(e){return function(e,t){e.preventDefault();var a=e.currentTarget,n=a.name,l=a.code,o=a.rfidId;u.a.post("".concat(s,"/laundry/").concat(t,"/update"),{name:n.value,code:l.value,rfidId:o.value},{withCredentials:!0}).then((function(e){var a=JSON.parse(JSON.stringify(r));a.map((function(a){return a._id===t?e.data:a})),c(a)}))}(e,t._id)}},l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"Nombre"),l.a.createElement(p.a.Control,{name:"name",type:"text",defaultValue:t.name})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"C\xf3digo"),l.a.createElement(p.a.Control,{name:"code",type:"text",defaultValue:t.code,maxLength:"100"})),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"RFID ID"),l.a.createElement(p.a.Control,{name:"rfidId",type:"number",defaultValue:t.rfidid,maxLength:"10"})),l.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},l.a.createElement("div",{className:"buttonCouple"},l.a.createElement(g.a,{onClick:e.handleError,className:"general-btn",variant:"primary",type:"submit"},"Modificar"),l.a.createElement(g.a,{variant:"danger"},"Eliminar")))))))})))):l.a.createElement(C,null)}var H=a(114);function W(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],c=a[1],i=function(){return c(!1)};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"create-laundryitem-btn",style:{textAlign:"center"}},l.a.createElement(g.a,{onClick:function(){return c(!0)},className:"general-btn createbtn"},"A\xf1adir art\xedculo")),l.a.createElement(D.a,{centered:!0,show:r,onHide:i},l.a.createElement(D.a.Header,{closeButton:!0},l.a.createElement(D.a.Title,{className:"admin-card-title"},"Nuevo art\xedculo")),l.a.createElement(D.a.Body,null,l.a.createElement("h6",null,e.complex.name),l.a.createElement(p.a,{onSubmit:e.AddLaundry},l.a.createElement(p.a.Group,{controlId:"exampleForm.ControlSelect1"},l.a.createElement(p.a.Label,{className:"admin-card-title"},"Prenda"),l.a.createElement(p.a.Control,{name:"laundry",as:"select"},l.a.createElement("option",null,"Selecciona el art\xedculo"),e.laundries.map((function(e,t){return l.a.createElement("option",{key:"laundry"+t,value:e._id},e.code,"-",e.name)})))),l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,{className:"admin-card-title"},"Precio"),l.a.createElement(p.a.Control,{name:"price",type:"number",step:"any",placeholder:"5,34"})),e.err?l.a.createElement("p",{style:{color:"#036C9C"}},e.errorMessage):l.a.createElement(l.a.Fragment,null),l.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},l.a.createElement(g.a,{onClick:e.handleError,className:"general-btn",variant:"primary",type:"submit"},"Create Item"),e.createSucces?l.a.createElement(g.a,{className:"general-btn",onClick:i},"Back to list"):l.a.createElement(l.a.Fragment,null))))))}function M(e){var t=e.match.params.id,a=Object(n.useState)(null),r=Object(o.a)(a,2),c=r[0],m=r[1],d=Object(n.useState)(!1),E=Object(o.a)(d,2),f=E[0],b=E[1],v=Object(n.useState)(null),y=Object(o.a)(v,2),h=y[0],O=y[1],x=Object(n.useState)(null),j=Object(o.a)(x,2),S=j[0],I=j[1];Object(n.useState)((function(){u.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){m(e.data)})).catch((function(){b(!0)})),u.a.get("".concat(s,"/laundries"),{withCredentials:!0}).then((function(e){O(e.data)})),u.a.get("".concat(s,"/complex/").concat(t,"/details"),{withCredentials:!0}).then((function(e){I(e.data)}))}),[]);return console.log(S),f?l.a.createElement(i.a,{to:"/"}):h&&S&&c?l.a.createElement("div",null,l.a.createElement(N,{logOut:e.logOut,loggedInUser:c}),l.a.createElement("h4",{style:{textAlign:"center",margin:"10px"}},S.name),l.a.createElement("hr",null),l.a.createElement(W,{laundries:h,complex:S,AddLaundry:function(e){e.preventDefault();var a,n=e.currentTarget,l=n.laundry,r=n.price;if(S.linen){var c=JSON.parse(JSON.stringify(S.linen)),o={laundry:l.value,price:r.value};c.push(o),a=c}else a=[{laundry:l.value,price:r.value}];console.log(a),u.a.post("".concat(s,"/complex/").concat(t,"/updatelinen"),{linen:a},{withCredentials:!0}).then((function(e){window.location.reload(!1)}))}}),l.a.createElement("hr",null),l.a.createElement("div",{id:"ComplexLaundries"},l.a.createElement(w.a,{striped:!0,bordered:!0,hover:!0,style:{marginTop:"10px"},id:"ComplexLaundriesTable"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"C\xf3digo"),l.a.createElement("th",null,"Art\xedculo"),l.a.createElement("th",null,"Precio"))),S.linen?S.linen.map((function(e,a){return l.a.createElement("tbody",{key:a+"laundry"},l.a.createElement("tr",null,l.a.createElement("td",null,e.laundry.code),l.a.createElement("td",null,e.laundry.name),l.a.createElement("td",{style:{width:"300px",padding:"0px"}},l.a.createElement(p.a,{onSubmit:function(a){return function(e,a){e.preventDefault();var n=e.currentTarget.price,l=JSON.parse(JSON.stringify(S)).linen.map((function(e){return console.log(a,"id"),console.log(e.laundry._id,"laundryId"),e.laundry._id===a&&(e.price=n.value),e}));console.log(l),u.a.post("".concat(s,"/complex/").concat(t,"/updatelinen"),{linen:l},{withCredentials:!0}).then((function(e){console.log(e.data)}))}(a,e.laundry._id)},style:{display:"flex",justifyContent:" space-around",alignItems:"center",padding:"5px"}},l.a.createElement(H.a,null,l.a.createElement(p.a.Control,{id:"laundryPriceForm",name:"price",type:"number",step:"any",defaultValue:e.price}),l.a.createElement(H.a.Append,null,l.a.createElement(H.a.Text,null,"\u20ac"))),l.a.createElement(g.a,{style:{marginLeft:"10px"},variant:"secondary",type:"submit"},"Editar")))))})):""))):l.a.createElement(C,null)}function V(e){var t=e.match.params.id,a=Object(n.useState)(null),r=Object(o.a)(a,2),c=r[0],m=r[1],d=Object(n.useState)(!1),E=Object(o.a)(d,2),f=E[0],v=E[1],y=Object(n.useState)(null),h=Object(o.a)(y,2),O=h[0],x=h[1];return Object(n.useEffect)((function(){u.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){m(e.data)})).catch((function(){v(!0)})),u.a.get("".concat(s,"/customer/order/").concat(t),{withCredentials:!0}).then((function(e){x(e.data)}))}),[]),f?l.a.createElement(i.a,{to:"/"}):c&&O?(console.log(O),l.a.createElement(l.a.Fragment,null,l.a.createElement("h6",null,"C\xf3digo de pedido: ",O._id),l.a.createElement("h5",null,"Cliente: ",O.complexId.name),l.a.createElement("h6",null,"Creado por: ",O.CreatedBy.firstName),l.a.createElement("h5",null,"Estado: ","ordering"===O.status?"Por enviar":"ordered"===O.status?"Enviado":"cerrado"),l.a.createElement(w.a,{striped:!0,bordered:!0,hover:!0,style:{marginTop:"10px"},id:"ComplexLaundriesTable"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Catidad de repaso"),l.a.createElement("th",null,"Art\xedculo"),l.a.createElement("th",null,"Cantidad"))),O.complexId.linen?O.complexId.linen.map((function(t,a){return l.a.createElement("tbody",{key:a+"laundry"},l.a.createElement("tr",null,l.a.createElement("td",null,t.laundry.code),l.a.createElement("td",null,t.laundry.name),l.a.createElement("td",{style:{width:"200px",padding:"0px"}},l.a.createElement(p.a,{onSubmit:function(a){return e.handleEditAmount(a,t.laundry._id)},style:{display:"flex",justifyContent:" space-around",alignItems:"center",padding:"5px"}},l.a.createElement(p.a.Control,{style:{width:"80px",textAlign:"left"},name:"price",type:"number"})))))})):"There isnt any linen uploaded in this"),l.a.createElement(b.b,{to:"/hotel/home"},l.a.createElement(g.a,null,"Atr\xe1s")))):l.a.createElement(C,null)}function K(){return l.a.createElement(f.a,{fixed:"bottom",expand:"lg",style:{backgroundColor:"#04c3fe",marginTop:"10px"}},l.a.createElement(f.a.Brand,{style:{color:"white"},href:"#"},"SmartLinen - Alpha"))}function Q(e){return e.loggedInUser?l.a.createElement("div",{className:"sticky-top"},l.a.createElement(f.a,{collapseOnSelect:!0,expand:"lg",bg:"light",variant:"light",sticky:"top"},l.a.createElement(f.a.Brand,{href:"/hotel/stock/".concat(e.loggedInUser.rfidComplexId)},"Prendas en circulaci\xf3n"),l.a.createElement(f.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(f.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(h.a,{className:"mr-auto"},l.a.createElement(h.a.Link,{onClick:e.byDate},"Lavados"),l.a.createElement(h.a.Link,{onClick:e.byDate},"Fecha de creaci\xf3n"),l.a.createElement(h.a.Link,null,"+")),l.a.createElement(h.a,{style:{margin:"0px 20px 0px 0px",fontSize:"20px"}},l.a.createElement("p",{style:{margin:"0px"}},e.loggedInUser.userName))))):l.a.createElement(C,null)}function q(e){var t=e.match.params.id,a=Object(n.useState)(null),r=Object(o.a)(a,2),c=r[0],m=r[1],d=Object(n.useState)(null),E=Object(o.a)(d,2),p=E[0],f=E[1],b=Object(n.useState)(null),v=Object(o.a)(b,2),y=(v[0],v[1],Object(n.useState)(!1)),h=Object(o.a)(y,2),O=h[0],x=h[1],j=Object(n.useState)(!1),S=Object(o.a)(j,2),N=S[0],I=S[1],L=Object(n.useState)(!1),T=Object(o.a)(L,2),A=(T[0],T[1],Object(n.useState)(null)),F=Object(o.a)(A,2),U=F[0],_=F[1],D=Object(n.useState)(null),P=Object(o.a)(D,2);P[0],P[1];Object(n.useEffect)((function(){u.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){m(e.data)})).catch((function(){x(!0)})),e&&u.a.get("".concat(s,"/customer/").concat(t,"/stock"),{withCredentials:!0}).then((function(e){console.log(e.data),f(e.data)}))}),[]);var B=function(){var e=JSON.parse(JSON.stringify(U));e.sort((function(e,t){return new Date(t.fullDate)-new Date(e.fullDate)})),_(e)};return O?l.a.createElement(i.a,{to:"/"}):p?N&&!U?l.a.createElement(C,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(k,{loggedInUser:c,logOut:e.logOut}),l.a.createElement(Q,{loggedInUser:c,byDate:function(){I(!0),U||u.a.get("".concat(s,"/customer/").concat(t,"/stock/bydate"),{withCredentials:!0}).then((function(e){_(e.data)}))}}),N?l.a.createElement(w.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",style:{marginTop:"10px",textAlign:"center"},id:"ComplexLaundriesTable"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Art\xedculo"),l.a.createElement("th",null,"Alta",l.a.createElement(g.a,{style:{backgroundColor:"transparent",border:"none"},onClick:B},"^")),l.a.createElement("th",{onClick:function(){var e=JSON.parse(JSON.stringify(U));e.sort((function(e,t){return t.lavados-e.lavados})),_(e)}},"Lavados",l.a.createElement(g.a,{style:{backgroundColor:"transparent",border:"none"},onClick:B},"^")))),U?U.map((function(e,t){return l.a.createElement("tbody",{key:t+"alb_art"},l.a.createElement("tr",null,l.a.createElement("td",null,e.laundry),l.a.createElement("td",null,e.day.toString().padStart(2,0),"-",e.month.toString().padStart(2,0),"-",e.year),l.a.createElement("td",null,e.lavados)))})):""):l.a.createElement(w.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",style:{marginTop:"10px",textAlign:"center"},id:"ComplexLaundriesTable"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Art\xedculo"),l.a.createElement("th",null,"Cantidad"))),p?p.map((function(e,t){if(0!==e.cantidad)return l.a.createElement("tbody",{key:t+"alb_art"},l.a.createElement("tr",null,l.a.createElement("td",null,e.articulo),l.a.createElement("td",null,e.cantidad)))})):"")):l.a.createElement(C,null)}function Y(e){var t=e.match.params.id,a=Object(n.useState)(null),r=Object(o.a)(a,2),c=r[0],m=r[1],d=Object(n.useState)(null),p=Object(o.a)(d,2),f=p[0],v=p[1],y=Object(n.useState)(null),h=Object(o.a)(y,2),O=h[0],x=h[1],j=Object(n.useState)(null),S=Object(o.a)(j,2),I=(S[0],S[1],Object(n.useState)(null)),k=Object(o.a)(I,2),T=k[0],A=k[1],F=Object(n.useState)(!1),U=Object(o.a)(F,2),_=U[0],D=U[1];if(Object(n.useEffect)((function(){console.log("displaying albaranes",e),u.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){m(e.data)})).catch((function(){D(!0)})),e&&u.a.get("".concat(s,"/customer/envio/").concat(t),{withCredentials:!0}).then((function(e){var a=[],n=JSON.parse(JSON.stringify(e.data));e.data.serial.map((function(e,t){var n=JSON.parse(JSON.stringify(e)),l=a.find((function(e){return n.articulo.name===e.articulo.name}));void 0===l&&a.push(n),void 0!==l&&a.map((function(t){return t.articulo.name===l.articulo.name?(t.cantidad+=n.cantidad,t):e}))})),n.serial=a,v(n),u.a.get("".concat(s,"/complex/").concat(e.data.envio[0].cliente_id,"/details/byrfidid"),{withCredentials:!0}).then((function(e){console.log(e.data[0]),x(e.data[0])})),u.a.get("".concat(s,"/pesos/envio/").concat(t),{withCredentials:!0}).then((function(e){console.log("pesos",e.data),A(e.data)}))}))}),[]),_)return l.a.createElement(i.a,{to:"/"});if(!f||!O||!T)return l.a.createElement(C,null);var P=0,B=0;return l.a.createElement(l.a.Fragment,null,l.a.createElement(N,{loggedInUser:c,logOut:e.logOut}),l.a.createElement(E.a,{style:{margin:"10px 10px 25px 10px"}},l.a.createElement(E.a.Header,{as:"h5",style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("span",null,f.envio[0].fecha.slice(0,10)," ; ",f.envio[0].fecha.slice(11,19)),l.a.createElement("span",null,O.name)),l.a.createElement(w.a,{striped:!0,bordered:!0,hover:!0,style:{},id:"ComplexLaundriesTable"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Art\xedculo"),l.a.createElement("th",null,"Cantidad"),l.a.createElement("th",null,"Precio"),l.a.createElement("th",null,"Subtotal"))),f?f.serial.map((function(e,t){console.log(e),console.log(O.linen);var a=O.linen.find((function(t){return console.log(t.laundry.rfidid,"and",e.articulo.rfidid),t.laundry.rfidid===e.articulo.rfidid}));return a&&(P+=a.price*e.cantidad),l.a.createElement("tbody",{key:t+"alb_art"},l.a.createElement("tr",null,l.a.createElement("td",null,e.articulo.name),l.a.createElement("td",null,e.cantidad),l.a.createElement("td",null,a?a.price:""),l.a.createElement("td",null,a?(a.price*e.cantidad).toFixed(2)+" \u20ac":"")))})):""),l.a.createElement("h5",{style:{textAlign:"center",margin:"0px"}},"Total: ",P.toFixed(2),"\u20ac"),l.a.createElement("hr",null),l.a.createElement("h5",{style:{textAlign:"center"}},"Jaulas enviadas: ",l.a.createElement("b",null,f.envio[0].totalbultos)),l.a.createElement(L.a,{variant:"flush",style:{textAlign:"center"}},T.map((function(e,t){return B+=e.peso-46.2,l.a.createElement(L.a.Item,{style:{padding:"3px"}},t+1," -> ",e.peso," kg")}))),l.a.createElement("h6",{style:{alignSelf:"center",margin:0,padding:"6px"}},"KG ropa: ",B.toFixed(2)," Kg ",O.klgPrice?"- Total:"+(B*O.klgPrice).toFixed(2)+" \u20ac":"")),l.a.createElement("div",{style:{textAlign:"center",marginBottom:"40px"}},l.a.createElement(b.b,{to:"/laundry/home"},l.a.createElement(g.a,null," Volver"))))}function $(e){return e.loggedInUser?l.a.createElement("div",{className:"sticky-top"},l.a.createElement(f.a,{collapseOnSelect:!0,expand:"lg",bg:"light",variant:"light",sticky:"top"},l.a.createElement(f.a.Brand,{href:""},"Trazabilidad"),l.a.createElement(f.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(f.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(h.a,{className:"mr-auto"}),l.a.createElement(h.a,{style:{margin:"0px 20px 0px 0px",fontSize:"20px"}},l.a.createElement("p",{style:{margin:"0px"}},e.loggedInUser.userName))))):l.a.createElement(C,null)}function X(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),r=a[0],c=a[1],m=Object(n.useState)(null),d=Object(o.a)(m,2),E=(d[0],d[1],Object(n.useState)(!1)),p=Object(o.a)(E,2),g=p[0],f=p[1],b=Object(n.useState)(null),v=Object(o.a)(b,2),y=(v[0],v[1]),h=Object(n.useState)(!1),O=Object(o.a)(h,2),x=O[0],j=(O[1],Object(n.useState)(null)),S=Object(o.a)(j,2),N=S[0];S[1];Object(n.useEffect)((function(){u.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){c(e.data),u.a.get("".concat(s,"/customer/").concat(e.data.rfidComplexId,"/envios"),{withCredentials:!0}).then((function(e){y(e.data)}))})).catch((function(){f(!0)}))}),[]);return g?l.a.createElement(i.a,{to:"/"}):r?x?l.a.createElement(i.a,{to:"/customer/service/".concat(N,"/edit")}):l.a.createElement(l.a.Fragment,null,l.a.createElement(k,{loggedInUser:r,logOut:e.logOut}),l.a.createElement($,{loggedInUser:r}),l.a.createElement("p",{style:{textAlign:"center",margin:"100px 0px"}},"Servicio temporalmente no disponible")):l.a.createElement(C,null)}var Z=Object(i.g)((function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),m=Object(o.a)(c,2),d=m[0],E=m[1],p=Object(n.useState)(null),g=Object(o.a)(p,2),f=g[0],b=g[1];Object(n.useEffect)((function(){a||u.a.get("".concat(s,"/user"),{withCredentials:!0}).then((function(e){r(e.data)}))}),[]);var v=function(e){e.preventDefault();var t=e.currentTarget,a=t.email,n=t.password;u.a.post("".concat(s,"/signin"),{email:a.value,password:n.value},{withCredentials:!0}).then((function(e){r(e.data),window.location.reload(!1)})).catch((function(e){E(!0);var t=e.response.data.error;console.log(t),b(t)}))},h=function(){u.a.post("".concat(s,"/logout"),{},{withCredentials:!0}).then((function(){console.log("loggedOut"),r(null),window.location.reload(!1)}))};return d&&null==f?l.a.createElement("p",null,"Loading..."):l.a.createElement(l.a.Fragment,null,l.a.createElement(i.d,null,l.a.createElement(i.b,{exact:!0,path:"/",render:function(){return l.a.createElement(y,{onSignIn:v,loggedInUser:a,err:d,errorMessage:f})}}),l.a.createElement(i.b,{path:"/laundry/home",render:function(){return l.a.createElement(I,{loggedInUser:a,logOut:h})}}),l.a.createElement(i.b,{path:"/hotel/home",render:function(){return l.a.createElement(F,{loggedInUser:a,logOut:h})}}),l.a.createElement(i.b,{path:"/hotel/albaran/:id",render:function(e){return l.a.createElement(T,Object.assign({},e,{loggedInUser:a,logOut:h}))}}),l.a.createElement(i.b,{path:"/laundry/albaran/:id",render:function(e){return l.a.createElement(Y,Object.assign({},e,{loggedInUser:a,logOut:h}))}}),l.a.createElement(i.b,{path:"/hotel/trazabilidad",render:function(e){return l.a.createElement(X,Object.assign({},e,{loggedInUser:a,logOut:h}))}}),l.a.createElement(i.b,{path:"/hotel/stock/:id",render:function(e){return l.a.createElement(q,Object.assign({},e,{loggedInUser:a,logOut:h}))}}),l.a.createElement(i.b,{path:"/laundry/complexes",render:function(){return l.a.createElement(B,{loggedInUser:a,logOut:h})}}),l.a.createElement(i.b,{path:"/laundry/users",render:function(){return l.a.createElement(J,{loggedInUser:a,logOut:h})}}),l.a.createElement(i.b,{path:"/laundry/laundries",render:function(){return l.a.createElement(z,{loggedInUser:a,logOut:h})}}),l.a.createElement(i.b,{path:"/complex/:id/laundries",render:function(e){return l.a.createElement(M,Object.assign({},e,{loggedInUser:a,logOut:h}))}}),l.a.createElement(i.b,{path:"/customer/service/:id/edit",render:function(e){return l.a.createElement(V,Object.assign({},e,{loggedInUser:a,logOut:h}))}})),l.a.createElement(K,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(b.a,null,l.a.createElement(l.a.StrictMode,null,l.a.createElement(Z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},71:function(e,t,a){e.exports=a(104)},76:function(e,t,a){},77:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},79:function(e,t,a){}},[[71,1,2]]]);
//# sourceMappingURL=main.d425320b.chunk.js.map